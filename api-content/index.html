{"posts":[{"title":"å…³äºæˆ‘","content":"æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤ ğŸ  å…³äºæœ¬ç«™ æˆ‘çš„åšå®¢å›­ æœ¬åšå®¢æ˜¯æˆ‘çš„æ–°åšå®¢ï¼Œä»¥ååªè¦ä½¿ç”¨æœ¬åšå®¢ ä¼˜è´¨çš„æ—§åšå®¢åº”è¯¥ä¼šæ”¾ä¸Šæ¥ ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è° æˆ‘æ˜¯ä¸€ä¸ªå¹¿ä¸œä¸­å±±çš„è’Ÿè’» ç”Ÿæ—¥æ˜¯2008å¹´10æœˆ31æ—¥ æˆ‘å¾ˆå–œæ¬¢æ€ç»´é¢˜ï¼Œæ˜¯DuckOIçš„åˆ›å§‹äºº â›¹ å…´è¶£çˆ±å¥½ æˆ‘å–œæ¬¢äºŒæ¬¡å…ƒï¼Œå–œæ¬¢å‘¨æ°ä¼¦å’ŒåˆéŸ³æœªæ¥ å–œæ¬¢éŸ³ä¹æ¸¸æˆï¼Œç©ã€ŠMalodyã€‹ã€ŠMaiMaiã€‹ã€Šèˆç«‹æ–¹ã€‹ å–œæ¬¢ LoveLive ï¼Œä½†ç¢äºå®åè®¤è¯ï¼Œä¸ç©æ¸¸æˆ æ‰€æœ‰å®åè®¤è¯çš„æ¸¸æˆéƒ½ä¸ç© ğŸ“¬ è”ç³»æˆ‘å‘€ æ¬¢è¿ä¸€èµ·äº¤æµï¼ä¹Ÿå¯ä»¥æ‰¾æˆ‘ä»¬å’¨è¯¢åˆä½œï¼ å¾®ä¿¡ DengDuckzsï¼ˆæ¨èï¼‰ æ´›è°· DengDuck ç§ä¿¡ï¼ˆæ¨èï¼‰ é‚®ç®± moudengya123@qq.com Bilibili æŸé‚“å– ç§ä¿¡ ","link":"https://Deng-Duck.github.io/post/about/"},{"title":"åˆå¹¶çŸ³å­ä¸‰è®²","content":"é¢˜ç›®å¤§æ„ï¼š è®¾æœ‰ NNN å †çŸ³å­æ’æˆä¸€æ’ï¼Œå…¶ç¼–å·ä¸º 1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒN1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒN1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒN æ¯å †çŸ³å­æœ‰ä¸€å®šçš„è´¨é‡ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæ•´æ•°æ¥æè¿° ç°åœ¨è¦å°†è¿™ NNN å †çŸ³å­åˆå¹¶æˆä¸ºä¸€å †ï¼Œæ¯æ¬¡åªèƒ½åˆå¹¶ç›¸é‚»çš„ä¸¤å † åˆå¹¶çš„ä»£ä»·ä¸ºè¿™ä¸¤å †çŸ³å­çš„è´¨é‡ä¹‹å’Œ åˆå¹¶åä¸è¿™ä¸¤å †çŸ³å­ç›¸é‚»çš„çŸ³å­å°†å’Œæ–°å †ç›¸é‚» åˆå¹¶æ—¶ç”±äºé€‰æ‹©çš„é¡ºåºä¸åŒï¼Œåˆå¹¶çš„æ€»ä»£ä»·ä¹Ÿä¸ç›¸åŒ æ‰¾å‡ºä¸€ç§åˆç†çš„æ–¹æ³•ï¼Œä½¿æ€»çš„ä»£ä»·æœ€å°ï¼Œè¾“å‡ºæœ€å°ä»£ä»· åŒæ—¶è¾“å‡ºåˆå¹¶è¿‡ç¨‹ åˆå¹¶çŸ³å­å…¶å®å’Œ åˆå¹¶æœå­ å¾ˆåƒ åªæ˜¯åˆå¹¶ åªèƒ½ç›¸é‚»ï¼Œä½†å…¶å®ä¹Ÿæ–¹ä¾¿äº† åŒºé—´dp ä»æœ€åä¸€æ¬¡åˆå¹¶å¼€å§‹æ€è€ƒ æœ€åä¸€æ¬¡åˆå¹¶å‰ï¼ŒçŸ³å­è‚¯å®šåªæœ‰ä¸¤å † ï¼Œ è®¾kä¸ºä¸¤è€… ä¸­ç‚¹ ï¼Œ ä¹Ÿå°±æ˜¯ä¸¤å †ä¸­é—´çš„ä½ç½® ç¬¬ä¸€å †æ˜¯åŸæ¥çš„111åˆ°kkkå †ï¼Œç¬¬äºŒå †æ˜¯åŸæ¥çš„ç¬¬k+1k+1k+1åˆ°ç¬¬nnnå †ã€‚ æ˜¾ç„¶ï¼Œ è¦ä½¿å¾—æ€»ä»£ä»·æœ€å°ï¼Œå¿…ç„¶æ˜¯è¯¥ä¸¤å †å¼å­ä¹‹å‰çš„åˆå¹¶ä»£ä»·æœ€å°ã€‚ ç„¶åä¸æ–­æ‹†åˆ†æˆå­é—®é¢˜è§£å†³ å®šä¹‰çŠ¶æ€f(i,j)f(i,j)f(i,j) è¡¨ç¤º ç¬¬iå †çŸ³å­åˆ°ç¬¬jå †çŸ³å­ çš„ æœ€å°åˆå¹¶ä»£ä»· ã€‚ ç›®æ ‡çŠ¶æ€å³ä¸ºf(1,n)f(1,n)f(1,n)ã€‚ æ–¹ç¨‹â€”â€”f(i,j)=min(f(i,k)+fï¼ˆk+1,j)+sum(i,j)f(i,j)=min(f(i,k)+fï¼ˆk+1,j)+sum(i,j)f(i,j)=min(f(i,k)+fï¼ˆk+1,j)+sum(i,j) sumæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯ä¸€ä¸ª åŒºé—´å’Œ ï¼Œæˆ‘ä»¬åˆ©ç”¨ å‰ç¼€å’Œ å¯ä»¥å°†è¯¢é—®sumçš„å¤æ‚åº¦é™è‡³ O(1) int query(int i, int j) //å‰ç¼€å’Œï¼Œsum[i],è¡¨ç¤º1~içš„å’Œï¼Œæ•°å­¦å†…å®¹ï¼Œç®€å•ï¼Œè‡ªè¡Œæ€è€ƒåŸç† { return sum[j] - sum[i - 1]; } ä¸ºä»€ä¹ˆæ˜¯ åŒºé—´å’Œ å‘¢ï¼Ÿ å…¶å® åŒºé—´å’Œå°±æ˜¯ä¸¤å †çš„é‡é‡ï¼ˆç®€å•ï¼Œè‡ªè¡Œæ€è€ƒï¼‰ ä¹Ÿå°±æ˜¯ åˆå¹¶ä»£ä»· ç„¶åæ˜¯ åˆå§‹åŒ– å› ä¸ºæ˜¯æ±‚æœ€å°å€¼ï¼Œæ‰€ä»¥è¦å¼€ä¸€ä¸ªå¤§æ•° memset(f, 27, sizeof(f)); 27å…¶å®è®¡ç®—æœºä¼šè®¤ä¸ºæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œæ¥è¿‘intè¾¹ç•Œï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬è®¤ä¸ºçš„27 ä¹Ÿå¯ä»¥æ¢æˆå…¶ä»–æ•° for (int i = 1; i &lt;= n; i++) { cin &gt;&gt; a[i]; sum[i] = sum[i - 1] + a[i];// é¢„å¤„ç†å‰ç¼€å’Œ f[i][i] = 0;//è‡ªå·±åˆå¹¶è‡ªå·±ä¸éœ€è¦ä»£ä»· } è¾“å…¥å¯ä»¥åŒæ—¶å¤„ç† è§ä»£ç ï¼Œsumå¯ä»¥æ±‚ï¼Œå› ä¸ºè‡ªå·±åˆå¹¶è‡ªå·±ä¸éœ€è¦ä»£ä»· ï¼Œæ‰€ä»¥f(i,i)f(i,i)f(i,i)å§‹ç»ˆä¸º0 æ¥ä¸‹æ¥è®²è§£dpéƒ¨åˆ† ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“èµ·ç‚¹å’ŒåŒºé—´å¤§å°ï¼Œæ‰€ä»¥å¯ä»¥æ±‚ç»ˆç‚¹ ç„¶åæšä¸¾ä¸­ç‚¹å°±å®Œäº† for (int k = 2; k &lt;= n; k++)//k,æšä¸¾åŒºé—´å¤§å° { è¿™ä¸ªpæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ pæ•°ç»„ç”¨æ¥è®°å½•æœ€ä¼˜è§£çš„ä¸­ç‚¹ Whyï¼Ÿ for (int i = 1; i &lt;= n; i++) //i,æšä¸¾èµ·ç‚¹ { int j = i + k - 1;//æ±‚ç»ˆç‚¹ for (int l = i; l &lt; j; l++)//æšä¸¾ä¸­ç‚¹ï¼Œè¿™é‡Œå¯ä»¥ä¼˜åŒ–ï¼Œè¯¦è§PPTã€ŠDPä¹‹å››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ–ã€‹ { if (f[i][j] &gt; f[i][l] + f[l + 1][j] + query(i, j)) //æ±‚æœ€å°å€¼ { f[i][j] = f[i][l] + f[l + 1][j] + query(i, j); p[i][j] = l;//æœ‰æ–°çš„æœ€å°å€¼,æ›´æ–°ä¸­ç‚¹ } } } } è¿™ä¸ªpæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ pæ•°ç»„ç”¨æ¥è®°å½•æœ€ä¼˜è§£çš„ä¸­ç‚¹ Whyï¼Ÿ ç”±äºé¢˜ç›®è¦æ±‚è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é€’å½’æ±‚è§£ è¿™æ—¶på°±æ´¾ä¸Šç”¨åœºäº† p(i,j)p(i,j)p(i,j)è¡¨ç¤ºåˆå¹¶i,jæ—¶çš„ä¸­ç‚¹k ç”±æ­¤å°†l,råˆ†æˆä¸¤ä»½ï¼Œä¸æ–­é€’å½’ void dg(int l, int r) { if (l == r) {//è¯´æ˜åªæœ‰ä¸€ä¸ªæ•°ï¼Œç›´æ¥è¾“å‡ºï¼ cout &lt;&lt; a[r];//ä¸è¦æ¢è¡Œï¼ä¸è¦ç©ºæ ¼ï¼ return; } cout &lt;&lt; '(';//è¾“å‡ºå·¦å³æ‹¬å· int mid = p[l][r];//è¯»å–ä¸­ç‚¹ dg(l, mid);//é€’å½’å·¦åŠéƒ¨åˆ† cout &lt;&lt; &quot;)(&quot;;//è¾“å‡ºä¸­é—´æ‹¬å· dg(mid + 1, r);//é€’å½’å³åŠéƒ¨åˆ† cout &lt;&lt; ')';//è¾“å‡ºå·¦å³æ‹¬å· } å¥½äº†ï¼Œè¿™å°±æ˜¯å…³äºåˆå¹¶çŸ³å­çš„å…¨éƒ¨å†…å®¹äº† ä¸Šä»£ç ï¼ #include &lt;bits/stdc++.h&gt; using namespace std; int n, a[1005], f[1005][1005], p[1005][1005], sum[1005]; int query(int i, int j) { return sum[j] - sum[i - 1]; } void dg(int l, int r) { if (l == r) { cout &lt;&lt; a[r]; return; } cout &lt;&lt; '('; int mid = p[l][r]; dg(l, mid); cout &lt;&lt; &quot;)(&quot;; dg(mid + 1, r); cout &lt;&lt; ')'; } int main() { memset(f, 27, sizeof(f)); cin &gt;&gt; n; for (int i = 1; i &lt;= n; i++) { cin &gt;&gt; a[i]; sum[i] = sum[i - 1] + a[i]; f[i][i] = 0; } for (int k = 2; k &lt;= n; k++) { for (int i = 1; i &lt;= n; i++) { int j = i + k - 1; for (int l = i; l &lt; j; l++) { if (f[i][j] &gt; f[i][l] + f[l + 1][j] + query(i, j)) { f[i][j] = f[i][l] + f[l + 1][j] + query(i, j); p[i][j] = l; } } } } cout &lt;&lt; f[1][n] &lt;&lt; endl; dg(1, n); return 0; } è®°å¿†åŒ–æœç´¢æ›´åŠ æ¸…æ™°ï¼Œæ˜“äºç†è§£ (ä¸è¿‡æ— æ³•ä½¿ç”¨å››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ–) æµ…è°ˆè®°å¿†åŒ–ï¼š å¦‚æœè¯´åŠ¨æ€è§„åˆ’æ˜¯é€’æ¨ï¼Œé‚£è®°å¿†åŒ–å°±æ˜¯é€’å½’ å®ƒçš„æ€è·¯æ˜¯ï¼š åŒåŠ¨æ€è§„åˆ’ï¼Œè‹¥å­é—®é¢˜çš„è§£æ°¸è¿œä¸å˜ï¼Œå†æ¬¡è®¡ç®—ä¾¿æ²¡æœ‰æ„ä¹‰ æˆ‘ä»¬å°†å…¶è®°å½•åœ¨ f æ•°ç»„æˆ–dpæ•°ç»„ï¼ˆå‘½åä¹ æƒ¯ä¸åŒï¼‰ ä½†åŠ¨æ€è§„åˆ’ç®—å‡ºäº†æ‰€æœ‰å­é—®é¢˜ æ‰€ä»¥ï¼Œæˆ‘ä»¬ç”¨é€’å½’æ±‚è§£ï¼Œä¿è¯åªæ±‚åˆ°æœ‰ç”¨å­é—®é¢˜ ä½†å…¶å®å› ä¸ºé€’å½’å®ç°ï¼ŒäºŒè€…å¤æ‚åº¦æ¥è¿‘ï¼ŒåŠ¨æ€è§„åˆ’è¾ƒå¿« å®ƒçš„æ¡†æ¶æ˜¯ï¼š ç±»å‹ dg(å‚æ•°) { if(f[å‚æ•°]å·²ç»è®¡ç®—è¿‡)return f[å‚æ•°]; if(è¾¹ç•Œ)return å¯¹åº”çš„æ•°; //å¦‚æœå·²ç»ç»™è¾¹ç•Œåˆå§‹åŒ–ï¼Œå¯ä»¥çœç•¥ è®¡ç®— f[å‚æ•°]=è§£//ä¿å­˜è§£ return è§£; } æ³¨æ„ï¼ä½¿ç”¨é€’å½’å‡½æ•°è¡¨ç¤ºå­é—®é¢˜ï¼ ä»£ç è¯¦è§£ï¼š memset(f,-1, sizeof(f)); n = read();//åˆ ç”¨ å¿« è¯» for (int i = 1; i &lt;= n; i++) { a[i] = read(); p[i][i]=i; } è¾“å…¥ï¼Œåˆå§‹åŒ– æ³¨æ„ï¼f = -1 è¡¨ç¤º æœªè®¡ç®—ï¼ å‰ç¼€å’Œç•¥ printf(&quot;%ld\\n&quot;, dg(1, n));//è¾“å‡ºè§£ dfs(1, n);//æ±‚è¿‡ç¨‹ ä¸»å‡½æ•°å®Œ æ±‚è¿‡ç¨‹ç•¥ è®°å¿†åŒ–éƒ¨åˆ†å’ŒåŠ¨æ€è§„åˆ’å¾ˆåƒï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“äº†èµ·ç‚¹iå’Œç»ˆç‚¹j æ‰€ä»¥å¤„ç†å®Œè¾¹ç•Œåï¼Œå¯ä»¥ç›´æ¥æšä¸¾ä¸­ç‚¹ long dg(int i, int j) { if(i==j)return 0;//è¾¹ç•Œï¼Œè‡ªå·±åˆå¹¶è‡ªå·±ä¸éœ€è¦ä»£ä»· if (f[i][j] != -1) //å¦‚æœè®¡ç®—äº†ï¼Œè¿”å› { return f[i][j]; } f[i][j]=1E9; for (int k = i; k &lt;= j; k++) //è®¡ç®— { if (f[i][j] &gt; dg(i, k) + dg(k + 1, j) + w(i, j)) //æ³¨æ„!ç”¨dgè¡¨ç¤ºå­é—®é¢˜ï¼ { f[i][j] = dg(i, k) + dg(k + 1, j) + w(i, j); p[i][j] = k;//è®°å½•ä¸­ç‚¹ } } return f[i][j];//è¿”å› } ä¸Šä»£ç ï¼š #include &lt;bits/stdc++.h&gt; using namespace std; inline int read() { int ans = 0; char c = getchar(); while ((c &lt; '0' || c &gt; '9') &amp;&amp; (c != '-')) { c = getchar(); } ans = c - '0'; c = getchar(); while (c &gt;= '0' &amp;&amp; c &lt;= '9') { ans = (ans &lt;&lt; 3) + (ans &lt;&lt; 1) + c - '0'; c = getchar(); } return ans; } long f[105][105], p[105][105], a[105], sum[105], n, mn = 1E9; long w(long i, long j) { return sum[j] - sum[i - 1]; } void dfs(int l, int r) { if (l == r) { cout &lt;&lt; a[r]; return; } cout &lt;&lt; '('; int mid = p[l][r]; dfs(l, mid); cout &lt;&lt; &quot;)(&quot;; dfs(mid + 1, r); cout &lt;&lt; ')'; } long dg(int i, int j) { long x, y; if(i==j)return 0; if (f[i][j] != -1) { return f[i][j]; } f[i][j]=1E9; for (int k = i; k &lt;= j; k++) { if (f[i][j] &gt; dg(i, k) + dg(k + 1, j) + w(i, j)) { f[i][j] = dg(i, k) + dg(k + 1, j) + w(i, j); p[i][j] = k; } } return f[i][j]; } int main() { memset(f,-1, sizeof(f)); n = read(); for (int i = 1; i &lt;= n; i++) { a[i] = read(); p[i][i]=i; } for (int i = 1; i &lt;= n; i++) { sum[i] = sum[i - 1] + a[i]; } printf(&quot;%ld\\n&quot;, dg(1, n)); dfs(1, n); } é¢˜ç›®å¤§æ„ï¼š åœ¨ä¸€åœ†å½¢æ“åœºå››å‘¨æ‘†æ”¾Nå †çŸ³å­ , ç°è¦å°†çŸ³å­æœ‰æ¬¡åºåœ°åˆå¹¶æˆä¸€å †. è§„å®šæ¯æ¬¡åªèƒ½é€‰ç›¸ä¸´çš„ä¸¤å †åˆå¹¶æˆä¸€å †,å¹¶å°†æ–°çš„ä¸€å †çš„çŸ³å­æ•°,è®°ä¸ºè¯¥æ¬¡åˆå¹¶çš„å¾—åˆ†ã€‚ ç¼–ä¸€ç¨‹åº,é€‰æ‹©ä¸€ç§åˆå¹¶çŸ³å­çš„æ–¹æ¡ˆ,ä½¿å¾—åšN-1æ¬¡åˆå¹¶,å¾—åˆ†çš„æ€»å’Œæœ€å°‘ ä½†æ•°æ®é«˜è¾¾n&lt;=2500 çŸ¥è¯†è®²è§£ï¼š åœ¨åŠ¨æ€è§„åˆ’é—®é¢˜ä¸­ï¼Œæœ‰ä¸€ä¸ªå¸¸è§çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š f(i,j)=min(f(i,k)+f(k+1,j))+w[i,j]f(i,j)=min(f(i,k)+f(k+1,j))+w[i,j]f(i,j)=min(f(i,k)+f(k+1,j))+w[i,j] æ³¨æ„ä¸Šé¢çš„ç²—ä½“éƒ¨åˆ† minâ€”â€”æ±‚æœ€å°å€¼ kâ€”â€”æšä¸¾çš„ä¸­ç‚¹ w[i,j]w[i,j]w[i,j]â€”â€”ä¸€ä¸ªåŒºé—´å¤„ç†çš„å‡½æ•°ï¼ˆå¦‚å‰ç¼€å’Œï¼‰ è¿™ç§å…¬å¼å°±æ˜¯å°†ä¸€ä¸ªé—® é¢˜ é€šè¿‡ ä¸€ä¸ªæšä¸¾çš„ä¸­ç‚¹å°†é—®é¢˜æ‹†æˆä¸¤åŠï¼Œç„¶ååŠ ä¸Šä¸€ä¸ªå…¶ä»–åˆ©ç›Šçš„è®¡ç®—å‡½æ•° è¿™ç§å…¬å¼è‹¥æœ‰è¿™ä¸‰ä¸ªå…ƒç´ ï¼Œå¯ä»¥å¦‚ä¸‹åˆ¤æ–­ï¼š w[i,j]w[i,j]w[i,j]æ˜¯å¦æ»¡è¶³ä¸¤ä¸ªæ€§è´¨ï¼š 1.è‹¥i&lt;iâ€™&lt;j&lt;jâ€™i&lt;iâ€™&lt;j&lt;jâ€™i&lt;iâ€™&lt;j&lt;jâ€™,åˆ™w[iâ€²,j]&lt;=w[i,jâ€²]w[i&#x27;,j]&lt;=w[i,j&#x27;]w[iâ€²,j]&lt;=w[i,jâ€²]â€”â€”åŒºé—´åŒ…å« è§£æ ï¼šå…¶å®å¾ˆå¥½ç†è§£ï¼Œæ•´ä¸ªåŒºé—´æ˜¯w[i,jâ€²],w[iâ€²,j]w[i,j&#x27;],w[i&#x27;,j]w[i,jâ€²],w[iâ€²,j]æ˜¯é‡Œé¢çš„å°åŒºé—´ï¼Œæˆ‘ä»¬åˆ¤æ–­æ—¶åªè¦çœ‹æ•´ä½“é‡Œçš„å°åŒºé—´æ˜¯å¦ä¸€å®šå°äºæ•´ä½“åŒºé—´å³å¯ å¦‚ï¼šåŒºé—´å’Œå°±æ˜¯ä¸€ä¸ªåŒºé—´åŒ…å«ï¼Œæ¯”å¦‚sumï¼ˆ1,6)sumï¼ˆ1,6)sumï¼ˆ1,6)ä¸€å®šå¤§äºsum(2,4)sum(2,4)sum(2,4) 2.è‹¥i&lt;iâ€™&lt;j&lt;jâ€™i&lt;iâ€™&lt;j&lt;jâ€™i&lt;iâ€™&lt;j&lt;jâ€™,åˆ™w(i,j)+w(iâ€²,jâ€²)&lt;=w(i,jâ€²)+wï¼ˆiâ€²,j)w(i,j)+w(i&#x27;,j&#x27;)&lt;=w(i,j&#x27;)+wï¼ˆi&#x27;,j)w(i,j)+w(iâ€²,jâ€²)&lt;=w(i,jâ€²)+wï¼ˆiâ€²,j)â€”â€”å¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ã€‚ ä¸ºä»€ä¹ˆå«å¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ï¼Ÿæˆ‘ä¸çŸ¥é“ ä½†æ˜¯æˆ‘ä»¬å¤§æ¦‚è®°ä¸€ä¸‹å³å¯ å¯ä»¥è¯æ˜ï¼šè‹¥wæ»¡è¶³åŒºé—´åŒ…å«å•è°ƒæ€§å’Œå¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ï¼Œåˆ™fä¹Ÿæ»¡è¶³åŒºé—´å¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼çš„æ€§è´¨ã€‚ ä¸ç”¨è®°è¯æ˜ï¼Œæˆ‘ä»¬è®°ç»“è®º è®¾s(i,j)è¡¨ç¤ºf(i,j)çš„æœ€ä½³å†³ç­–ç‚¹ ä¹Ÿå°±æ˜¯f (i,j)ä¸ºæœ€å°å€¼æ—¶çš„ä¸­ç‚¹k åˆ™sæ»¡è¶³ {â€‹s(iâˆ’1)(j)&lt;=s(i,j)&lt;=s(i)(j+1)â€‹s(i)(jâˆ’1)&lt;=s(i,j)&lt;=s(i+1)(j)\\begin{cases} â€‹ s(i-1)(j)&lt;=s(i,j)&lt;=s(i)(j+1)\\\\ â€‹ s(i)(j-1)&lt;=s(i,j)&lt;=s(i+1)(j) \\end{cases} {â€‹s(iâˆ’1)(j)&lt;=s(i,j)&lt;=s(i)(j+1)â€‹s(i)(jâˆ’1)&lt;=s(i,j)&lt;=s(i+1)(j)â€‹ ä½†åªé€‚ç”¨äºæ±‚min æƒ³ä¸€æƒ³ï¼Œä¸ºä»€ä¹ˆï¼Ÿ ç­”æ¡ˆå°†åœ¨æ ‘çš„æ„é€ çš„é¢˜è§£å…¬å¸ƒ è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å‡å°‘æšä¸¾çš„æ¬¡æ•° æ˜¾ç„¶ï¼Œkçš„æœ€ä¼˜è§£=s(i,j)s(i,j)s(i,j) èŒƒå›´ç¼©å°äº† å› ä¸ºæˆ‘ä»¬æ±‚s(i,j)s(i,j)s(i,j), ä¸€å®šéœ€è¦s(iâˆ’1)(j)ï¼Œs(i)(j+1)s(i-1)(j)ï¼Œs(i)(j+1)s(iâˆ’1)(j)ï¼Œs(i)(j+1) æˆ–è€…s(i)(jâˆ’1)ï¼Œs(i+1)(j)s(i)(j-1)ï¼Œs(i+1)(j)s(i)(jâˆ’1)ï¼Œs(i+1)(j) æ‰€ä»¥æˆ‘ä»¬éœ€è¦é€‰æ‹©ï¼Œ ä¸¤ä¸ªä¸ç­‰å¼ï¼Œéœ€ä¸€ä¸ªiä»å¤§åˆ°å°æšä¸¾ï¼Œéœ€ä¸€ä¸ªjä»å¤§åˆ°å°æšä¸¾ Psï¼šæˆ‘ä»¬è¦åˆ¤æ–­sæ˜¯å¦ä¸ºé›¶ï¼Œå¦‚æœä¸ºé›¶å°±ä»ç”¨i~j è’Ÿè’»è®²çš„å¯èƒ½ä¸æ ‡å‡†ï¼Œè¯¦è§PPT é¢˜ç›®è¯¦è§£ï¼š åˆå¹¶çŸ³å­å…¬å¼ï¼šf(i,j)=min(f(i,l)+f(l+1,j)+w(i,j))f(i,j)=min(f(i,l)+f(l+1,j)+w(i,j))f(i,j)=min(f(i,l)+f(l+1,j)+w(i,j)) å…·æœ‰ä¸‰è¦ç´  w(i,j)w(i,j)w(i,j)ä¸ºåŒºé—´å’Œ æ»¡è¶³ åŒºé—´åŒ…å«å•è°ƒæ€§å’Œå¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ å¯ä»¥ç”¨å¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ– jæ˜¯ç”±iè®¡ç®—çš„ï¼Œæ‰€ä»¥ä½¿ç”¨iä»å¤§åˆ°å°çš„ s(i)(jâˆ’1)&lt;=s(i,j)&lt;=s(i+1)(j)s(i)(j-1)&lt;=s(i,j)&lt;=s(i+1)(j)s(i)(jâˆ’1)&lt;=s(i,j)&lt;=s(i+1)(j) ä»£ç è¯¦è§£ï¼š å¤§å¤šæ•°å’Œç‰ˆæœ¬äºŒç›¸åŒ è¾“å…¥å’Œåˆå§‹åŒ–ï¼š n=read();//åˆç”¨äº†å¿«è¯»ï¼Œæˆ‘æ˜¯æœ‰ç—…å—ï¼Ÿ for(int i=1;i&lt;=n;i++) { a[i]=a[i+n]=read();//è¾“å…¥a f[i][i]=f[i+n][i+n]=0;//åˆå§‹åŒ–f s[i][i]=i;//åˆ†å‰²è‡ªå·±ï¼Œè‡ªå·±æ˜¯è‡ªå·±çš„ä¸­ç‚¹ï¼Œæ•…s[i][i]=i s[i+n][i+n]=i+n;//åŒä¸Š } n*=2; å¯¹äº†ï¼Œè¿™æ˜¯ä¸ªç¯ï¼Œä½†åšäº†ç‰ˆæœ¬äºŒåç¯å·²ç»åºŸäº†ï¼Œå°±æ˜¯æ¥åŠ å¤§æ•°æ®çš„ æ±‚å‰ç¼€å’Œï¼ˆç•¥ï¼‰ DPéƒ¨åˆ† æ²¡ä»€ä¹ˆæ³¨æ„çš„ é‡ç‚¹æ˜¯iä»å¤§åˆ°å° for(int k=2;k&lt;=n/2;k++)//åŒºé—´å¤§å° { for(int i=n-k+1;i&gt;=1;i--)//ä»å¤§åˆ°å°æšä¸¾èµ·ç‚¹ { int j=i+k-1,x,y;//æ±‚ç»ˆç‚¹ if(s[i][j-1])//å¦‚æœs(i,j-1)ä¸º0ï¼Œä»iå¼€å§‹ { x=s[i][j-1]; } else { x=i; } if(s[i+1][j])//å¦‚æœs(i+1,j)ä¸º0ï¼Œä»jç»“æŸ { y=s[i+1][j]; } else { y=j; } for(int l=x;l&lt;=y;l++)//åŒç‰ˆæœ¬äºŒ { if(f[i][j]&gt;f[i][l]+f[l+1][j]+w(i,j)) { f[i][j]=f[i][l]+f[l+1][j]+w(i,j); s[i][j]=l; } } } } å› ä¸ºæœ‰å¤šç§å¯è¡Œæ–¹æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ªç¯è¦æ‰¾ä¸€ä¸ªmin for(int i=1;i&lt;=n/2;i++) { mn=min(mn,f[i][i+n/2-1]); } è¾“å‡ºå³å¯ ä¸Šä»£ç ï¼š æ²¡å¿ä½æ‰“äº†ä¸ªå¿«è¯» #include&lt;stdio.h&gt; #include&lt;bits/stdc++.h&gt; using namespace std; inline int read() { int ans = 0; char c = getchar(); while ((c &lt; '0' || c &gt; '9') &amp;&amp; (c != '-')) { c = getchar(); } ans = c - '0'; c = getchar(); while (c &gt;= '0' &amp;&amp; c &lt;= '9') { ans = (ans &lt;&lt; 3) + (ans &lt;&lt; 1) + c - '0'; c = getchar(); } return ans; } long f[5005][5005],s[5005][5005],a[5005],sum[5005],n,mn=1E8; long w(long i,long j) { return sum[j]-sum[i-1]; } int main() { memset(f,127,sizeof(f)); n=read(); for(int i=1;i&lt;=n;i++) { a[i]=a[i+n]=read(); f[i][i]=f[i+n][i+n]=0; s[i][i]=i; s[i+n][i+n]=i+n; } n*=2; for(int i=1;i&lt;=n;i++) { sum[i]=sum[i-1]+a[i]; } for(int k=2;k&lt;=n/2;k++) { for(int i=n-k+1;i&gt;=1;i--) { int j=i+k-1,x,y; if(s[i][j-1]) { x=s[i][j-1]; } else { x=i; } if(s[i+1][j]) { y=s[i+1][j]; } else { y=j; } for(int l=x;l&lt;=y;l++) { if(f[i][j]&gt;f[i][l]+f[l+1][j]+w(i,j)) { f[i][j]=f[i][l]+f[l+1][j]+w(i,j); s[i][j]=l; } } } } for(int i=1;i&lt;=n/2;i++) { mn=min(mn,f[i][i+n/2-1]); } printf(&quot;%d&quot;,mn); } ","link":"https://Deng-Duck.github.io/post/he-bing-shi-zi-san-jiang/"}]}