

{"themeConfig":{"themeName":"song","postPageSize":25,"archivesPageSize":50,"siteName":"DengDuckã®Blog","siteDescription":"<!DOCTYPE HTML>\n<html>\n<body>\n<!-- class =â€œhitokoto â€ æ˜¯ä¸€è¨€çš„é»˜è®¤é€‰æ‹©å™¨-->\n      <h2 class=\"hitokoto\" id=\"yiyancon\"></h2> \n      \n\t  <script type=\"text/javascript\" src=\"https://international.v1.hitokoto.cn?encode=js&amp;charset=utf-8&amp;c=k\"></script>\n\t\n</body>\n</html>\n\n","footerInfo":"éå¸¸å¥½åšå®¢ï¼Œçˆ±æ¥è‡ªé¸­å­ï¼<br/>\nå¸Œæœ›å¤§å®¶å–œæ¬¢æˆ‘çš„åšå®¢å’ŒDuckOI\n","showFeatureImage":true,"domain":"https://Deng-Duck.github.io","postUrlFormat":"SLUG","tagUrlFormat":"SHORT_ID","dateFormat":"YYYY-MM-DD","feedFullText":true,"feedCount":10,"archivesPath":"archives","postPath":"post","tagPath":"tag"},"posts":[{"content":"åœ¨ä¸»é¢˜çš„feiye.ejsæ·»åŠ Giscusä»£ç å³å¯ è¯´æ¥æœ‰è¶£ï¼ŒGitalkæ­»äº†ï¼ŒDisqusæ­»äº†ï¼Œè¿™ä¸ªGiscuså€’æŒºé¡½å¼º æ•ˆæœå¦‚ä¸‹ ","tags":[{"name":"Gridea","slug":"rNPEneU98","used":true,"link":"https://Deng-Duck.github.io/tag/rNPEneU98/"}],"title":"æˆ‘æˆåŠŸæ­å»ºäº†åšå®¢è¯„è®ºç³»ç»Ÿ","feature":"","link":"https://Deng-Duck.github.io/post/wo-cheng-gong-da-jian-liao-bo-ke-ping-lun-xi-tong/","stats":{"text":"1 min read","time":7000,"words":33,"minutes":1},"date":"2022-09-01 19:46:10","dateFormat":"2022-09-01"},{"content":"æ¬¢è¿æ¥åˆ°æˆ‘çš„å°ç«™å‘€ï¼Œå¾ˆé«˜å…´é‡è§ä½ ï¼ğŸ¤ æ¥è®¤è¯†ä¸€ä¸‹æˆ‘å§ğŸ˜† èµåŠ©æˆ‘ ğŸ  å…³äºæœ¬ç«™ æˆ‘çš„åšå®¢å›­ æœ¬åšå®¢æ˜¯æˆ‘çš„æ–°åšå®¢ï¼Œä»¥ååªè¦ä½¿ç”¨æœ¬åšå®¢ ä¼˜è´¨çš„æ—§åšå®¢åº”è¯¥ä¼šæ”¾ä¸Šæ¥ ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è° æˆ‘æ˜¯ä¸€ä¸ªå¹¿ä¸œä¸­å±±çš„è’Ÿè’» ç”Ÿæ—¥æ˜¯2008å¹´10æœˆ31æ—¥ æˆ‘å¾ˆå–œæ¬¢æ€ç»´é¢˜ï¼Œæ˜¯DuckOIçš„åˆ›å§‹äºº â›¹ å…´è¶£çˆ±å¥½ æˆ‘å–œæ¬¢äºŒæ¬¡å…ƒï¼Œå–œæ¬¢å‘¨æ°ä¼¦å’ŒåˆéŸ³æœªæ¥ å–œæ¬¢éŸ³ä¹æ¸¸æˆï¼Œç©ã€ŠMalodyã€‹ã€ŠMaiMaiã€‹ã€Šèˆç«‹æ–¹ã€‹ å–œæ¬¢ LoveLive ï¼Œä½†ç¢äºå®åè®¤è¯ï¼Œä¸ç©æ¸¸æˆ æ‰€æœ‰å®åè®¤è¯çš„æ¸¸æˆéƒ½ä¸ç© ğŸ“¬ è”ç³»æˆ‘å‘€ æ¬¢è¿ä¸€èµ·äº¤æµï¼ä¹Ÿå¯ä»¥æ‰¾æˆ‘ä»¬å’¨è¯¢åˆä½œï¼ å¾®ä¿¡ DengDuckzsï¼ˆæ¨èï¼‰ æ´›è°· DengDuck ç§ä¿¡ï¼ˆæ¨èï¼‰ é‚®ç®± moudengya123@qq.com Bilibili æŸé‚“å– ç§ä¿¡ ä¹Ÿå¯ä»¥åœ¨ä¸‹é¢ç•™è¨€ ","tags":[{"name":"Gridea","slug":"rNPEneU98","used":true,"link":"https://Deng-Duck.github.io/tag/rNPEneU98/"}],"title":"å…³äºæˆ‘","feature":"https://pica.zhimg.com/v2-7554d41438c66c34bb5cd9cf0c68bcec_1440w.jpg?source=172ae18b","link":"https://Deng-Duck.github.io/post/about/","stats":{"text":"1 min read","time":43000,"words":208,"minutes":1},"date":"2022-08-18 19:09:48","dateFormat":"2022-08-18"},{"content":"ä»Šå¤©æŠ½å‡ºä¸€ç‚¹æ—¶é—´å†™æ€»ç»“ï¼Œæœ€è¿‘çœŸçš„è¶…çº§å¿™.....ä¸‹åˆè¦è¡¥æ˜¨å¤©å’•å’•çš„è¡¥é¢˜ å¤§æ¦‚æ˜¯æˆ‘æš‘å‡å”¯ä¸€çš„åšå®¢å§.... æœ€è¿‘å®åŠ›æ¼‚æµ®ä¸å®šï¼Œæ„Ÿè§‰è‡ªå·±åº”è¯¥å†æˆç†Ÿä¸€ç‚¹ï¼Œä¸è¦å—å¤ªå¤šå¤–ç•Œå› ç´ å¹²æ‰° ä¸ªäººæˆç»© åˆ†æ•°ï¼š 300/300 æ’åï¼š1ï¼ˆç®—ä¸Šæ—¶é—´çš„æ’åï¼š2ï¼‰ æ¯”èµ›è¯„ä»· ç®€å•ã€‚ åˆ«æ€¥ï¼Œç¡®å®ç®€å•ï¼Œæˆ‘æ²¡æœ‰ä»»ä½•å¤¸è‡ªå·±çš„æ„æ€ï¼Œä¸è¦ mod æˆ‘ï¼Œæƒ³ä¸€æƒ³ï¼Œè·Ÿæ˜¨å¤©æ¯”ï¼Œè¿™åœºæ¯”èµ›æ˜¯ä¸æ˜¯ç›¸å¯¹ç®€å•? æˆ‘ä¸ªäººæ›´å€¾å‘äºè¿™å‡ æ¬¡éƒ½æ²¡è€ƒå¥½ï¼Œæ•™ç»ƒç»™çš„ä¸€ä¸ªä¿¡å¿ƒèµ›/æ‘¸åº•èµ› æ¯”èµ›è¿‡ç¨‹ T1æ„Ÿè§‰åœ¨å“ªé‡Œè§è¿‡ï¼Œä¸€çœ¼äºŒåˆ†ï¼Œä½†æ˜¯æ²¡æœ‰å¥½å¥½çœ‹é¢˜ï¼Œä»¥ä¸ºå¯ä»¥è‡ªå·±å®‰æ’é¡ºåºã€‚ å¾€èƒŒåŒ…ä¸Šæƒ³ï¼Œæ„Ÿè§‰ä¼šå¯„ï¼Œæ‰€ä»¥æ‰“äº†ä¸€ä¸ªå‡è´ªå¿ƒ æ‰€ä»¥æˆ‘çš„åˆ¤æ–­å‡½æ•°æ˜¯è¿™æ ·çš„.... bool pd(long long x) { memset(b,0,sizeof(b)); int k=1; for(int i=1;i&lt;=n;i++) { if(b[k]+a[i]&gt;t) { k++; } if(k==x+1)return 0; b[k]+=a[i]; } return 1; } é‚£è¿˜ä¸å¦‚ä¸äºŒåˆ†å‘¢ï¼Œæ„Ÿè§‰è‡ªå·±æ˜¯ä¸ªå¼±æ™º è¿™ä¸ªæ—¶å€™cznå¤§ä½¬è¡¨ç¤ºåšå®Œäº†ï¼ŒOrz ç„¶ååšT2ï¼Œä¸€çœ¼å‰ç¼€å’Œï¼Œåˆ‡äº† ç„¶ååšT3ï¼Œæ˜¾ç„¶æ˜¯é€’å½’ï¼Œä½†æˆ‘æ­»æ´»ä¸è¿‡æ ·ä¾‹ ç„¶åæ¢äº†ä¸€ç§è¡¨è¾¾ï¼ŒAäº†è‡ªå·±é€ çš„æ‰€æœ‰æ•°æ® é€ åŒ–å¼„äººå•Š... T1å‘ç°æ˜¯è§„å®šé¡ºåºï¼Œé‚£å°±å¥½åŠäº†ï¼Œä¼˜å…ˆé˜Ÿåˆ—å³å¯ ç„¶åè°ƒè¯•äº†åŠå¤©ï¼Œå‘ç°æ²¡æœ‰æ¸…ç©ºï¼ŒåŠ ä¸Šå°±æ²¡é—®é¢˜äº† ç„¶åå‘æ•™ç»ƒç¡®è®¤AK.... å¼€å§‹å†™æ€»ç»“ é¢˜ç›®è§£æ T1 äºŒåˆ†èˆå°æ•°ï¼Œç„¶ååˆ©ç”¨ä¼˜å…ˆé˜Ÿåˆ—æ¨¡æ‹Ÿå¥¶ç‰›ä¸Šä¸‹å° æ¯æ¬¡æå–ä¸€ä¸ªèˆå°ä¸Šçš„å¥¶ç‰›çš„ä¸‹å°æ—¶é—´çš„æœ€å°å€¼ï¼Œå†æŠŠä¸‹ä¸€ä¸ªå¥¶ç‰›çš„ä¸‹å°æ—¶é—´åŠ å…¥ä¼˜å…ˆé˜Ÿåˆ— åˆ¤æ–­å‡½æ•°å¤æ‚åº¦O(nlogâ¡n)O(n\\log n)O(nlogn)ï¼ŒäºŒåˆ†å¤æ‚åº¦O(logâ¡n)O(\\log n)O(logn),æ•´ä½“å¤æ‚åº¦O(nlogâ¡2n)O(n\\log^2 n)O(nlog2n) #include &lt;bits/stdc++.h&gt; using namespace std; unsigned long long n,t,a[10000005],l,r,ans; priority_queue&lt;unsigned long long,vector&lt;unsigned long long&gt;,greater&lt;unsigned long long&gt; &gt;wt;//è¿ªèŒµå¤§èˆå°ï¼Œæœ‰ç‰›ä½ å°±æ¥ bool pd(unsigned long long x) { while(!wt.empty())wt.pop(); unsigned long long tm=0; for(unsigned long long i=1;i&lt;=x;i++) { wt.push(a[i]); tm=max(tm,a[i]); } for(unsigned long long i=x+1;i&lt;=n;i++) { unsigned long long mn=wt.top(); wt.pop(); wt.push(a[i]+mn); tm=max(tm,a[i]+mn); if(tm&gt;t)return 0; } if(tm&gt;t) { return 0; } return 1; } int main() { cin&gt;&gt;n&gt;&gt;t; for(unsigned long long i=1;i&lt;=n;i++) { cin&gt;&gt;a[i]; } l=1;r=n; while(l&lt;=r) { unsigned long long mid=(l+r)&gt;&gt;1; if(pd(mid)) { r=mid-1; ans=mid; } else { l=mid+1; } } cout&lt;&lt;ans; } T2 æšä¸¾å˜æ¢çš„ç‚¹ï¼Œå˜æ¢å‰æ‰‹åŠ¿ï¼Œå˜æ¢åæ‰‹åŠ¿ä¸‰æ ·ä¸œè¥¿ï¼Œæ³¨æ„å¯ä»¥ä¸å˜æ¢ ç„¶åæ±‚å‡ºä¸¤ä¸ªåŒºé—´çš„èƒœåœºæ•°ï¼Œè¿™ä¸ªç”¨å‰ç¼€å’Œç»Ÿè®¡å³å¯ æ³¨æ„å…¶å®ä¸éœ€è¦ææ¸…æ¥šè°èƒ½æ‰“è´¥è°ï¼Œä¸å¦‚è¿™æ ·æƒ³ï¼š æˆ‘æšä¸¾çš„æ˜¯ä¸€ä¸ªå¯ä»¥æ‰“è´¥xxæ‰‹åŠ¿çš„æ‰‹åŠ¿ï¼Œè¿™æ ·ç”¨å‰ç¼€å’Œç»Ÿè®¡xxæ‰‹åŠ¿çš„æ•°é‡å°±è¡Œ O(n)O(n)O(n) #include&lt;bits/stdc++.h&gt; using namespace std; char c; long long n,p[1000005],h[1000005],s[1000005],ans; int main() { cin&gt;&gt;n; for(long long i=1;i&lt;=n;i++) { cin&gt;&gt;c; p[i]=p[i-1]; h[i]=h[i-1]; s[i]=s[i-1]; if(c=='P') { p[i]++; } if(c=='H') { h[i]++; } if(c=='S') { s[i]++; }//ç»Ÿè®¡æ‰‹åŠ¿ } for(long long i=1;i&lt;=n;i++)//æšä¸¾å˜æ¢ç‚¹ï¼ˆåœ¨içš„å³è¾¹ï¼‰ï¼Œä¸å˜æ¢å¯ä»¥ç†è§£ä¸ºåœ¨nçš„å³è¾¹ { long long px=max(p[i]+s[n]-s[i],p[i]+h[n]-h[i]);//ä½¿ç”¨å¯ä»¥æ‰“è´¥pçš„æ‰‹åŠ¿ï¼Œå’Œå˜æ¢åçš„ä¸¤ç§æƒ…å†µ long long hx=max(h[i]+p[n]-p[i],h[i]+s[n]-s[i]);//ä½¿ç”¨å¯ä»¥æ‰“è´¥hçš„æ‰‹åŠ¿ï¼Œå’Œå˜æ¢åçš„ä¸¤ç§æƒ…å†µ long long sx=max(s[i]+p[n]-p[i],s[i]+h[n]-h[i]);//ä½¿ç”¨å¯ä»¥æ‰“è´¥sçš„æ‰‹åŠ¿ï¼Œå’Œå˜æ¢åçš„ä¸¤ç§æƒ…å†µ ans=max(ans,max(px,max(hx,sx)));//ç»Ÿè®¡æœ€å¤§å€¼ } cout&lt;&lt;ans&lt;&lt;endl; } T3 è®¾dgx,ydg_{x,y}dgx,yâ€‹ä¸ºå˜æ¢xxxæ¬¡åå­—ç¬¦ä¸²çš„ç¬¬yyyé¡¹ï¼Œå¯ä»¥é€’å½’è§£å†³ {dg0,y=sydgx,y=dgxâˆ’1,y(x&gt;0,yâ‰¤2xâˆ’1n)dgx,y=dgxâˆ’1,2xâˆ’1n(x&gt;0,y=2xâˆ’1n+1)dgx,y=dgxâˆ’1ï¼Œyâˆ’2xâˆ’1nâˆ’1(x&gt;0,y&gt;2xâˆ’1n+1)\\begin{cases} dg_{0,y}=s_y\\\\ dg_{x,y}=dg_{x-1,y}(x&gt;0,y\\leq 2^{x-1}n)\\\\ dg_{x,y}=dg_{x-1,2^{x-1}n}(x&gt;0,y= 2^{x-1}n+1)\\\\ dg_{x,y}=dg_{x-1ï¼Œy-2^{x-1}n-1}(x&gt;0,y&gt; 2^{x-1}n+1) \\end{cases} â©âªâªâªâ¨âªâªâªâ§â€‹dg0,yâ€‹=syâ€‹dgx,yâ€‹=dgxâˆ’1,yâ€‹(x&gt;0,yâ‰¤2xâˆ’1n)dgx,yâ€‹=dgxâˆ’1,2xâˆ’1nâ€‹(x&gt;0,y=2xâˆ’1n+1)dgx,yâ€‹=dgxâˆ’1ï¼Œyâˆ’2xâˆ’1nâˆ’1â€‹(x&gt;0,y&gt;2xâˆ’1n+1)â€‹ ç¬¬ä¸€ä¸ªå¼å­ä¸è§£é‡Š ç¬¬äºŒä¸ªå¼å­ç›¸å½“äºä¸¤è€…éƒ½æœ‰çš„å…¬å…±å‰ç¼€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¸€æ · ç¬¬ä¸‰ä¸ªå¼å­æ˜¯ç¬¬xxxæ¬¡å˜æ¢å¤šå‡ºæ¥çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€é¡¹ï¼Œä¸€ä½å¾ªç¯ç§»ä½ï¼Œæ‰€ä»¥ç›¸å½“äºåŸæ¥çš„æœ€åä¸€ä½ ç¬¬å››ä¸ªå¼å­å°±æ˜¯ç¬¬xxxæ¬¡å˜æ¢å¤šå‡ºæ¥çš„å­—ç¬¦ä¸²ï¼ˆé™¤äº†ç¬¬ä¸€é¡¹ï¼‰ï¼Œå’Œå‰é¢çš„ä¸€æ ·ï¼Œå¯¹é½å³å¯ æ—¶é—´å¤æ‚åº¦å¯ä»¥åšåˆ°O(logâ¡n)O(\\log n)O(logn)ï¼Œæˆ‘å¾ˆæ‡’ï¼Œæˆ‘çš„åšæ³•æ˜¯O(logâ¡2n)O(\\log^2 n)O(log2n)çš„ #include &lt;bits/stdc++.h&gt; using namespace std; string s; long long n, k, t = 1, cnt = 0, pw[65]; char dg(long long k, long long x) { if (k == 0) return s[x - 1]; long long len = pw[k] * n; if (x &lt;= len / 2) return dg(k - 1, x); if (x == len / 2 + 1) return dg(k - 1, len / 2); return dg(k - 1, x - len / 2 - 1); } int main() { pw[0] = 1; for (int i = 1; i &lt;= 64; i++) pw[i] = pw[i - 1] * 2; cin &gt;&gt; s &gt;&gt; k; n = s.size(); while (t * n &lt;= k) t *= 2, cnt++; cout &lt;&lt; dg(cnt, k); } åœ¨æœ€å å…¶å®æˆ‘çš„ä»£ç å¾ˆç´¯èµ˜ï¼Œå¤§å®¶ç†è§£æ€è·¯ï¼Œä¸è¦ç…§ç€æ‰“ ç»“æœç¬¬ä¸€æ˜¯YWJï¼ŸCZNåæ¥åˆäº¤äº†ä¸€æ¬¡ ","tags":[{"index":-1,"name":"æ¯”èµ›æ€»ç»“","slug":"Contest","used":true,"link":"https://Deng-Duck.github.io/tag/Contest/"}],"title":"2022å¹´8æœˆ12æ—¥æ¨¡æ‹Ÿèµ›æ€»ç»“","feature":"https://w.wallhaven.cc/full/w8/wallhaven-w8vgvq.jpg","link":"https://Deng-Duck.github.io/post/2022-nian-8-yue-12-ri-mo-ni-sai-zong-jie/","stats":{"text":"8 min read","time":422000,"words":1497,"minutes":8},"date":"2022-08-12 20:22:05","dateFormat":"2022-08-12"},{"content":"å€å¢æ³•æ±‚è§£LCAæ˜¯LCAç®—æ³•ä¸­æ•ˆç‡è¾ƒé«˜çš„ä¸€ç§ æœ¬æ–‡é€šè¿‡å‡ é“é¢˜å¸¦å¤§å®¶äº†è§£è¿™ä¸ªç®—æ³• Luogu P3379 æœ€è¿‘å…¬å…±ç¥–å…ˆ åŸé¢˜å±•ç° é¢˜ç›®æè¿° å¦‚é¢˜ï¼Œç»™å®šä¸€æ£µæœ‰æ ¹å¤šå‰æ ‘ï¼Œè¯·æ±‚å‡ºæŒ‡å®šä¸¤ä¸ªç‚¹ç›´æ¥æœ€è¿‘çš„å…¬å…±ç¥–å…ˆã€‚ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡ŒåŒ…å«ä¸‰ä¸ªæ­£æ•´æ•° N,M,SN,M,SN,M,Sï¼Œåˆ†åˆ«è¡¨ç¤ºæ ‘çš„ç»“ç‚¹ä¸ªæ•°ã€è¯¢é—®çš„ä¸ªæ•°å’Œæ ‘æ ¹ç»“ç‚¹çš„åºå·ã€‚ æ¥ä¸‹æ¥ Nâˆ’1N-1Nâˆ’1 è¡Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ­£æ•´æ•° x,yx, yx,yï¼Œè¡¨ç¤º xxx ç»“ç‚¹å’Œ yyy ç»“ç‚¹ä¹‹é—´æœ‰ä¸€æ¡ç›´æ¥è¿æ¥çš„è¾¹ï¼ˆæ•°æ®ä¿è¯å¯ä»¥æ„æˆæ ‘ï¼‰ã€‚ æ¥ä¸‹æ¥ MMM è¡Œæ¯è¡ŒåŒ…å«ä¸¤ä¸ªæ­£æ•´æ•° a,ba, ba,bï¼Œè¡¨ç¤ºè¯¢é—® aaa ç»“ç‚¹å’Œ bbb ç»“ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚ è¾“å‡ºæ ¼å¼ è¾“å‡ºåŒ…å« MMM è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¾æ¬¡ä¸ºæ¯ä¸€ä¸ªè¯¢é—®çš„ç»“æœã€‚ æ ·ä¾‹è¾“å…¥ #1 5 5 4 3 1 2 4 5 1 1 4 2 4 3 2 3 5 1 2 4 5 æ ·ä¾‹è¾“å‡º #1 4 4 1 4 4 æç¤º å¯¹äº 30%30\\%30% çš„æ•°æ®ï¼ŒNâ‰¤10N\\leq 10Nâ‰¤10ï¼ŒMâ‰¤10M\\leq 10Mâ‰¤10ã€‚ å¯¹äº 70%70\\%70% çš„æ•°æ®ï¼ŒNâ‰¤10000N\\leq 10000Nâ‰¤10000ï¼ŒMâ‰¤10000M\\leq 10000Mâ‰¤10000ã€‚ å¯¹äº 100%100\\%100% çš„æ•°æ®ï¼ŒNâ‰¤500000N\\leq 500000Nâ‰¤500000ï¼ŒMâ‰¤500000M\\leq 500000Mâ‰¤500000ã€‚ æ ·ä¾‹è¯´æ˜ï¼š è¯¥æ ‘ç»“æ„å¦‚ä¸‹ï¼š ç¬¬ä¸€æ¬¡è¯¢é—®ï¼š2,42, 42,4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œæ•…ä¸º 444ã€‚ ç¬¬äºŒæ¬¡è¯¢é—®ï¼š3,23, 23,2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œæ•…ä¸º 444ã€‚ ç¬¬ä¸‰æ¬¡è¯¢é—®ï¼š3,53, 53,5 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œæ•…ä¸º 111ã€‚ ç¬¬å››æ¬¡è¯¢é—®ï¼š1,21, 21,2 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œæ•…ä¸º 444ã€‚ ç¬¬äº”æ¬¡è¯¢é—®ï¼š4,54, 54,5 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼Œæ•…ä¸º 444ã€‚ æ•…è¾“å‡ºä¾æ¬¡ä¸º 4,4,1,4,44, 4, 1, 4, 44,4,1,4,4ã€‚ è§£æ æœ¬é¢˜æ˜¯ LCA çš„æ¨¡æ¿ LCA çš„åšæ³•å¾ˆå¤šï¼Œæ¯”å¦‚æš´åŠ›è·³ï¼Œå€å¢ æš´åŠ›è·³ è®©æ·±åº¦å¤§çš„ä¸€ç‚¹ä¸æ–­å‘ä¸Šè·³ï¼Œç›´åˆ°ä¸¤ç‚¹æ·±åº¦ç›¸ç­‰ å¦‚æœä¸¤ç‚¹æ·±åº¦ç›¸åŒä½†æ˜¯å¹¶ä¸ç›¸ç­‰ï¼Œå¯ä»¥ä¸¤ç‚¹ä¸€èµ·è·³ åœ¨éšæœºæ•°æ®ä¸‹è¡¨ç°ä¼˜å¼‚ï¼Œå› ä¸ºæ ‘ä¼šæ¯”è¾ƒå¹³è¡¡ï¼Œæ‰€ä»¥è¿‘ä¼¼O(logâ¡n)O(\\log n)O(logn) é€šå¸¸ä¼šè¢«å¡æˆå•æ¬¡O(n)O(n)O(n),å…¶å®ä¸éš¾æ„é€ ï¼Œå¯ä»¥æ„é€ ä¸€ä¸ªæ·±åº¦å¤§çš„æ ‘ï¼ˆæ¯”å¦‚é“¾ï¼‰ æœ¬äººå‡ºçš„ä¸€é“é¢˜æ€æƒ³ç±»ä¼¼è¿™æ ·ï¼Œä¸è¿‡è¿™é“é¢˜ä¿è¯äº†å¹³è¡¡ å€å¢æ³• è€ƒè™‘ä¸€æ¬¡è·³å¤šä¸€ç‚¹ è®°fau,kfa_{u,k}fau,kâ€‹è¡¨ç¤ºè·ç¦»uuuçš„è¾¹æ•°ä¸º2k2^k2kçš„ç¥–å…ˆèŠ‚ç‚¹åˆ™fau,k=fafau,kâˆ’1,kâˆ’1fa_{u,k}=fa_{fa_{u,k-1},k-1}fau,kâ€‹=fafau,kâˆ’1â€‹,kâˆ’1â€‹å¯ä»¥é€šè¿‡dfsæ±‚å‡ºfafafa å¦‚æœæ±‚LCA,æˆ‘ä»¬å¯ä»¥å¾ˆå¿«è®©ä¸¤ç‚¹æ¥åˆ°ç›¸åŒçš„æ·±åº¦ è€ƒè™‘æ±‚ä¸¤ç‚¹æ·±åº¦å·®ï¼Œå°†å·®äºŒè¿›åˆ¶æ‹†åˆ†ï¼Œæ¯æ¬¡è·³ä¸€ä¸ª222çš„å¹‚ï¼Œæ—¶é—´å¤æ‚åº¦O(logâ¡n)O(\\log n)O(logn) å½“ç„¶ï¼Œæ²¡å¿…è¦çœŸçš„äºŒè¿›åˆ¶æ‹†åˆ†ï¼Œå› ä¸ºæˆ‘ä»¬è¦çŸ¥é“æ˜¯222çš„å‡ æ¬¡å¹‚ï¼Œæ‰€ä»¥ç”¨cmathçš„log2æ›´åŠ æ–¹ä¾¿ è¿™é‡Œæœ‰ä¸€ä¸ªä¼˜åŒ–ï¼šç”¨O(n)O(n)O(n)çš„æ—¶é—´å¤æ‚åº¦é€’æ¨æ±‚å‡ºlog2çš„å€¼ ç„¶åï¼Œå¦‚æœä¸¤ç‚¹æ·±åº¦ç›¸åŒä¸ç›¸ç­‰ï¼Œæœ‰ä¸€ä¸ªè‡ªè®¤ä¸ºå·§å¦™çš„æ–¹æ³•æ±‚è§£ ä¸€ä¸ªæ€§è´¨ï¼šå¦‚æœä¸¤ç‚¹è·³åˆ°LCAäº†ï¼Œç»§ç»­å‘ä¸Šè·³ä¾ç„¶ç›¸ç­‰ï¼ˆæ˜“è¯ï¼‰ å¦‚æœä¸¤ç‚¹å‘ä¸Šè·³ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥ç»§ç»­è·³ äºæ˜¯æƒ³åˆ°ä¸€ä¸ªåŠæ³•ï¼šå°è¯•æšä¸¾iiiä»313131åˆ°000,è¡¨ç¤ºå°è¯•è·³2i2^i2i å¦‚æœå‘ä¸Šè·³ä¸ç›¸åŒçš„è¯ï¼Œå°±å‘ä¸Šè·³ï¼Œè¿™æ ·ï¼Œæšä¸¾å®Œï¼ŒLCAå°±æ˜¯fax,0fa_{x,0}fax,0â€‹ æ ¸å¿ƒä»£ç å¦‚ä¸‹,é¦–å…ˆæ˜¯é¢„å¤„ç† void dfs(long long x,long long fa) { f[x][0]=fa; dep[x]=dep[fa]+1; for(int i=1;i&lt;=31;i++) { f[x][i]=f[f[x][i-1]][i-1]; } for(int i=h[x];i;i=a[i].next) { if(a[i].to!=fa) { dfs(a[i].to,x); } } } ç„¶åæ˜¯æ±‚è§£ if(dep[x]&lt;dep[y]) { swap(x,y); } while(dep[x] &gt; dep[y]) { x = f[x][lg[dep[x]-dep[y]] - 1]; } if(x==y) { cout&lt;&lt;x&lt;&lt;endl; continue; } for(int k = lg[dep[x]] - 1; k &gt;= 0;k--) { if(f[x][k] != f[y][k]) { x = f[x][k], y = f[y][k]; } } äºæ˜¯ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªä¸¥æ ¼çš„O(logâ¡n)O(\\log n)O(logn)ç®—æ³• Luogu P1967 [NOIP2013 æé«˜ç»„] è´§è½¦è¿è¾“ åŸé¢˜å±•ç° é¢˜ç›®æè¿° A å›½æœ‰ nnn åº§åŸå¸‚ï¼Œç¼–å·ä» 111 åˆ° nnnï¼ŒåŸå¸‚ä¹‹é—´æœ‰ mmm æ¡åŒå‘é“è·¯ã€‚æ¯ä¸€æ¡é“è·¯å¯¹è½¦è¾†éƒ½æœ‰é‡é‡é™åˆ¶ï¼Œç®€ç§°é™é‡ã€‚ ç°åœ¨æœ‰ qqq è¾†è´§è½¦åœ¨è¿è¾“è´§ç‰©ï¼Œ å¸æœºä»¬æƒ³çŸ¥é“æ¯è¾†è½¦åœ¨ä¸è¶…è¿‡è½¦è¾†é™é‡çš„æƒ…å†µä¸‹ï¼Œæœ€å¤šèƒ½è¿å¤šé‡çš„è´§ç‰©ã€‚ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€çš„æ•´æ•° $ n,m$ï¼Œè¡¨ç¤º AAA å›½æœ‰ $ n$ åº§åŸå¸‚å’Œ mmm æ¡é“è·¯ã€‚ æ¥ä¸‹æ¥ mmm è¡Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° x,y,zx, y, zx,y,zï¼Œæ¯ä¸¤ä¸ªæ•´æ•°ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œè¡¨ç¤ºä» $x $ å·åŸå¸‚åˆ° $ y $ å·åŸå¸‚æœ‰ä¸€æ¡é™é‡ä¸º zzz çš„é“è·¯ã€‚ æ³¨æ„ï¼š xâ‰ yx \\neq yxî€ â€‹=yï¼Œä¸¤åº§åŸå¸‚ä¹‹é—´å¯èƒ½æœ‰å¤šæ¡é“è·¯ ã€‚ æ¥ä¸‹æ¥ä¸€è¡Œæœ‰ä¸€ä¸ªæ•´æ•° qqqï¼Œè¡¨ç¤ºæœ‰ qqq è¾†è´§è½¦éœ€è¦è¿è´§ã€‚ æ¥ä¸‹æ¥ qqq è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° x,yx,yx,yï¼Œä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œè¡¨ç¤ºä¸€è¾†è´§è½¦éœ€è¦ä» xxx åŸå¸‚è¿è¾“è´§ç‰©åˆ° yyy åŸå¸‚ï¼Œä¿è¯ xâ‰ yx \\neq yxî€ â€‹=y è¾“å‡ºæ ¼å¼ å…±æœ‰ qqq è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå¯¹äºæ¯ä¸€è¾†è´§è½¦ï¼Œå®ƒçš„æœ€å¤§è½½é‡æ˜¯å¤šå°‘ã€‚ å¦‚æœè´§è½¦ä¸èƒ½åˆ°è¾¾ç›®çš„åœ°ï¼Œè¾“å‡º âˆ’1-1âˆ’1ã€‚ æ ·ä¾‹è¾“å…¥ #1 4 3 1 2 4 2 3 3 3 1 1 3 1 3 1 4 1 3 æ ·ä¾‹è¾“å‡º #1 3 -1 3 æç¤º å¯¹äº 30%30\\%30% çš„æ•°æ®ï¼Œ1â‰¤n&lt;10001 \\le n &lt; 10001â‰¤n&lt;1000ï¼Œ1â‰¤m&lt;10,0001 \\le m &lt; 10,0001â‰¤m&lt;10,000ï¼Œ1â‰¤q&lt;10001\\le q&lt; 10001â‰¤q&lt;1000ï¼› å¯¹äº 60%60\\%60% çš„æ•°æ®ï¼Œ1â‰¤n&lt;10001 \\le n &lt; 10001â‰¤n&lt;1000ï¼Œ1â‰¤m&lt;5Ã—1041 \\le m &lt; 5\\times 10^41â‰¤m&lt;5Ã—104ï¼Œ1â‰¤q&lt;10001 \\le q&lt; 10001â‰¤q&lt;1000ï¼› å¯¹äº 100%100\\%100% çš„æ•°æ®ï¼Œ1â‰¤n&lt;1041 \\le n &lt; 10^41â‰¤n&lt;104ï¼Œ1â‰¤m&lt;5Ã—1041 \\le m &lt; 5\\times 10^41â‰¤m&lt;5Ã—104ï¼Œ$1 \\le q&lt; 3\\times 10^4 $ï¼Œ0â‰¤zâ‰¤1050 \\le z \\le 10^50â‰¤zâ‰¤105ã€‚ è§£æ å› ä¸ºæˆ‘ä»¬æƒ³è¦ç»è¿‡çš„æœ€å°è¾¹æœ€å¤§ï¼Œé‚£ä¹ˆä¸å¦¨æ„é€ ä¸€ä¸ªæœ€å¤§ç”Ÿæˆæ ‘ï¼ˆå»ºè®®ä½¿ç”¨å…‹é²æ–¯å¡å°”ç®— æ³•ï¼‰ï¼Œè¿™æ ·æ¯æ¡è¾¹éƒ½èƒ½å°½å¯èƒ½å¤§ ç„¶åé—®é¢˜è½¬æ¢ä¸ºæ ‘ä¸ŠæŸ¥è¯¢ï¼ŒåŒæ ·åˆ©ç”¨å€å¢æ³•æ±‚xâˆ’&gt;LCA,yâˆ’&gt;LCAx-&gt;LCA,y-&gt;LCAxâˆ’&gt;LCA,yâˆ’&gt;LCAè·¯å¾„ä¸­çš„æœ€å°è¾¹ï¼Œä¹Ÿæ˜¯å¯ä»¥é¢„å¤„ç†çš„ ä¸è¿‡é—®é¢˜ä¸ä¿è¯æ ‘è”é€šï¼Œéœ€è¦åˆ¤æ–­æ˜¯å¦æœ‰è§£ å…‹é²æ–¯å¡å°”çš„ä¼˜åŠ¿å°±ä½“ç°å‡ºæ¥äº†ï¼Œæˆ‘ä»¬å·²ç»å¤„ç†äº†å¹¶æŸ¥é›†ï¼Œå¦‚æœä¸¤ç‚¹ç¥–å…ˆä¸åŒå°±ç›´æ¥åˆ¤æ–­ä¸ºæ— è§£ æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼ˆç é£ååˆ†å¥‡æ€ªï¼‰ #include&lt;bits/stdc++.h&gt; #define ll long long using namespace std; struct road { ll s,t,w; }r[200005]; struct node { ll to,next,w; }a[200005]; ll n,m,t,k,x,y,fa2[100005],h[100005],fa[100005][33],f[100005][33],dep[100005],lg[100005]; bool cmp(road x,road y) { return x.w&gt;y.w; } void add(int x,int y,int z) { t++; a[t].to=y; a[t].w=z; a[t].next=h[x]; h[x]=t; } int find(int x) { if(fa2[x]==x)return x; return fa2[x]=find(fa2[x]); } void dfs(long long x,long long fn) { fa[x][0]=fn; dep[x]=dep[fn]+1; for(int i=1;i&lt;=31;i++) { fa[x][i]=fa[fa[x][i-1]][i-1]; f[x][i]=min(f[x][i-1],f[fa[x][i-1]][i-1]);//fæ•°ç»„è¡¨ç¤ºxåˆ°fa[x][i]è·¯å¾„çš„æœ€å°å€¼ } for(int i=h[x];i;i=a[i].next) { if(a[i].to!=fn) { f[a[i].to][0]=a[i].w; dfs(a[i].to,x); } } } int lca(int x,int y) { if(dep[x]&lt;dep[y]) { swap(x,y); } while(dep[x] &gt; dep[y]) { x = fa[x][lg[dep[x]-dep[y]] - 1]; } if(x==y) { return x; } for(int k = lg[dep[x]] - 1; k &gt;= 0;k--) { if(fa[x][k] != fa[y][k]) { x = fa[x][k], y = fa[y][k]; } } return fa[x][0]; } int work(int x,int y)//æ±‚è§£xåˆ°yè·¯å¾„çš„æœ€å°å€¼ï¼Œä¿è¯yæ˜¯xç¥–å…ˆ { ll ans=1e9,deph=dep[x]-dep[y]; while(deph!=0) { ll t=lg[deph]-1; ans=min(ans,f[x][t]); x=fa[x][t]; deph=dep[x]-dep[y]; } return ans; } int main() { cin&gt;&gt;n&gt;&gt;m; for(int i=1;i&lt;=n;i++) { fa2[i]=i; lg[i] = lg[i-1] + (1 &lt;&lt; lg[i-1] == i); } for(int i=1;i&lt;=m;i++) { cin&gt;&gt;r[i].s&gt;&gt;r[i].t&gt;&gt;r[i].w; } sort(r+1,r+m+1,cmp);//å…‹é²æ–¯å¡å°” int k=n-1; for(int i=1;i&lt;=m;i++) { if(k==0)break; if(find(r[i].s)!=find(r[i].t)) { add(r[i].s,r[i].t,r[i].w); add(r[i].t,r[i].s,r[i].w); fa2[find(r[i].s)]=find(r[i].t); k--; } } for(int i=1;i&lt;=n;i++) { if(find(i)==i) { dfs(i,0); } } cin&gt;&gt;k; for(int i=1;i&lt;=k;i++) { cin&gt;&gt;x&gt;&gt;y; if(find(x)!=find(y)) { cout&lt;&lt;-1&lt;&lt;endl; continue; } int lcah=lca(x,y); cout&lt;&lt;min(work(x,lcah),work(y,lcah))&lt;&lt;endl; } } Duck006[DuckOI]Kill the Duck åŸé¢˜å±•ç° æ¸©é¦¨æç¤º Duckéå¸¸ä¸è¦è„¸ï¼Œå•æ¨è‡ªå·±çš„é¢˜ åæ¥å‘ç°å…¶å®æœ‰å¥½å¤šä¸€æ ·çš„é¢˜ è´ªç©çš„å°å­© HDU 2586 How far away? é¢˜ç›®æè¿° XCRæ˜¯ä¸–ç•Œååˆ—å‰èŒ…çš„OIerï¼Œä»Šå¤©åœ¨æ‰“æ¨¡æ‹Ÿèµ›ã€‚ ä»–å·²ç»ACäº†å‰å››é“é¢˜ï¼Œå‡†å¤‡æš´åˆ‡ç¬¬äº”é¢˜ï¼Œçœ‹ç€è¿™ä¸ªé¢˜é¢ï¼Œçªç„¶å‘ç°ä¸å¤ªå¯¹.... ä»–ä¸€çœ‹äº”é“é¢˜çš„åå­— XorCount the Number of Dance SchemesRelaxing TimeAn Easy ProblemKill the DuckXCRAK\\mathtt{\\color{red}{X}\\color{black}{or}}\\\\ \\mathtt{\\color{red}{C}\\color{black}{ount\\;the\\;Number\\;of\\;Dance\\;Schemes}}\\\\ \\mathtt{\\color{red}{R}\\color{black}{elaxing\\;Time }}\\\\ \\mathtt{\\color{red}{A}\\color{black}{n\\; Easy\\;Problem}}\\\\ \\mathtt{\\color{red}{K}\\color{black}{ill\\;the\\;Duck}}\\\\ \\mathtt{\\huge{\\color{red}{XCRAK}}} XorCounttheNumberofDanceSchemesRelaxingTimeAnEasyProblemKilltheDuckXCRAK XCRååˆ†ç”Ÿæ°”ï¼Œæƒ³è¦æ€äº†DengDuck DengDuckè·‘åˆ°äº†ä¸€ä¸ªæœ‰nnnä¸ªç»“ç‚¹ï¼Œnâˆ’1n-1nâˆ’1æ¡è¾¹çš„æ ‘ä¸Š è¿™ä¸ªæ ‘çš„æ¯ä¸ªè¾¹éƒ½æ˜¯æ— å‘çš„ï¼Œéƒ½æœ‰è¾¹æƒ XCRç°åœ¨æœ‰mmmæ¬¡è¯¢é—®ï¼Œç¬¬i(1â‰¤iâ‰¤m)i(1 \\leq i \\leq m)i(1â‰¤iâ‰¤m)æ¬¡ç»™å‡ºä¸¤ä¸ªæ­£æ•´æ•°xix_ixiâ€‹å’Œyiy_iyiâ€‹,å«ä¹‰å¦‚ä¸‹ DengDuck åœ¨ç‚¹ xi(1â‰¤xiâ‰¤n)x_i(1 \\leq x_i \\leq n)xiâ€‹(1â‰¤xiâ€‹â‰¤n) ä¸Š,XCRåœ¨ç‚¹ yi(1â‰¤yiâ‰¤n)y_i(1 \\leq y_i \\leq n)yiâ€‹(1â‰¤yiâ€‹â‰¤n) ä¸Š å¯¹äºæ¯æ¬¡è¯¢é—®ï¼Œè¯·é—®XCRç¦»DengDuckçš„è·ç¦»æ˜¯å¤šå°‘ï¼Ÿ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°nnn æ¥ä¸‹æ¥nâˆ’1n-1nâˆ’1è¡Œæ¯è¡Œä¸‰ä¸ªæ­£æ•´æ•°åˆ†åˆ«è¡¨ç¤ºä¸€æ¡è¾¹çš„èµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œè¾¹æƒ ç¬¬n+1n+1n+1è¡Œä¸€ä¸ªæ­£æ•´æ•°mmm æ¥ä¸‹æ¥mmmè¡Œæ¯è¡Œä¸¤ä¸ªæ­£æ•´æ•°xix_ixiâ€‹å’Œyiy_iyiâ€‹ è¾“å‡ºæ ¼å¼ æœ‰mmmè¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºDengDuckå’ŒXCRçš„è·ç¦» æ ·ä¾‹è¾“å…¥ #1 3 1 2 3 2 3 4 2 1 2 1 3 æ ·ä¾‹è¾“å‡º #1 3 7 æ ·ä¾‹è¾“å…¥ #2 3 1 3 10 1 2 13 5 1 1 2 2 3 1 2 1 1 3 æ ·ä¾‹è¾“å‡º #2 0 0 10 13 10 æ ·ä¾‹è¾“å…¥ #3 14 5 7 12 7 11 15 5 14 12 14 3 17 7 1 19 14 4 14 1 12 16 1 6 16 12 9 19 9 10 10 7 2 11 4 8 10 2 13 14 17 6 11 14 14 13 11 6 10 12 6 8 7 9 9 10 11 13 10 1 4 2 12 13 4 2 7 2 1 12 2 10 11 4 7 æ ·ä¾‹è¾“å‡º #3 50 0 40 61 32 48 0 79 89 57 46 63 11 30 46 79 38 æç¤º å¯¹äºä¸€å®šçš„æ•°æ® n,mn,mn,mçš„èŒƒå›´ ç‰¹æ®Šé™åˆ¶ å‰5%5\\%5%çš„æ•°æ® 1ï½201ï½201ï½20 æ—  å‰20%20\\%20%çš„æ•°æ® 1ï½30001ï½30001ï½3000 æ—  å¦å¤–çš„5%5\\%5%çš„æ•°æ® 1ï½30001ï½30001ï½3000 m=1m=1m=1 æ‰€æœ‰æ•°æ® 1ï½1000001ï½1000001ï½100000 æ—  è§£æ é¢„å¤„ç†å‡ºdisidis_idisiâ€‹è¡¨ç¤ºç‚¹iiiåˆ°æ ¹111çš„è·ç¦»ï¼Œç­”æ¡ˆæ˜¯disx+disyâˆ’2dislca(x,y)dis_x+dis_y-2dis_{lca(x,y)}disxâ€‹+disyâ€‹âˆ’2dislca(x,y)â€‹ éå¸¸å®¹æ˜“è¯æ˜ ä»£ç å¦‚ä¸‹ #include &lt;bits/stdc++.h&gt; using namespace std; int n, k, b[1000005], x, y, z, tot, h[500005], len[500005], fa[500005][33], dep[500005], lg[500005], f[1000005], ans; struct node { int to, next, w; } a[1000005]; void dfs(long long x, long long fn, long long l) { fa[x][0] = fn; dep[x] = dep[fn] + 1; len[x] = l; for (int i = 1; i &lt;= 31; i++) { fa[x][i] = fa[fa[x][i - 1]][i - 1]; } for (int i = h[x]; i; i = a[i].next) { if (a[i].to != fn) { dfs(a[i].to, x, l + a[i].w); } } } int lca(int x, int y) { if (dep[x] &lt; dep[y]) { swap(x, y); } while (dep[x] &gt; dep[y]) { x = fa[x][lg[dep[x] - dep[y]] - 1]; } if (x == y) { return x; } for (int k = lg[dep[x]] - 1; k &gt;= 0; k--) { if (fa[x][k] != fa[y][k]) { x = fa[x][k], y = fa[y][k]; } } return fa[x][0]; } void add(int x, int y, int z) { ++tot; a[tot].to = y; a[tot].next = h[x]; a[tot].w = z; h[x] = tot; } void answer(int x, int fn) { for (int i = h[x]; i; i = a[i].next) { if (a[i].to != fn) { answer(a[i].to, x); f[x] += f[a[i].to]; } } ans = max(ans, f[x]); } int main() { cin &gt;&gt; n; for (int i = 1; i &lt;= n; ++i) { lg[i] = lg[i - 1] + (1 &lt;&lt; lg[i - 1] == i); } for (int i = 1; i &lt;= n - 1; i++) { cin &gt;&gt; x &gt;&gt; y &gt;&gt; z; add(x, y, z); add(y, x, z); } dfs(1, 0, 0); cin &gt;&gt; k; for (int i = 1; i &lt;= k; i++) { cin &gt;&gt; x &gt;&gt; y; int t = lca(x, y); cout &lt;&lt; len[x] + len[y] - 2 * len[t] &lt;&lt; endl; } } [BJWC2010] ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘ åŸé¢˜å±•ç° é¢˜ç›®æè¿° å° C æœ€è¿‘å­¦äº†å¾ˆå¤šæœ€å°ç”Ÿæˆæ ‘çš„ç®—æ³•ï¼ŒPrim ç®—æ³•ã€Kruskal ç®—æ³•ã€æ¶ˆåœˆç®—æ³•ç­‰ç­‰ã€‚æ­£å½“å° C æ´‹æ´‹å¾—æ„ä¹‹æ—¶ï¼Œå° P åˆæ¥æ³¼å° C å†·æ°´äº†ã€‚å° P è¯´ï¼Œè®©å° C æ±‚å‡ºä¸€ä¸ªæ— å‘å›¾çš„æ¬¡å°ç”Ÿæˆæ ‘ï¼Œè€Œä¸”è¿™ä¸ªæ¬¡å°ç”Ÿæˆæ ‘è¿˜å¾—æ˜¯ä¸¥æ ¼æ¬¡å°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼šå¦‚æœæœ€å°ç”Ÿæˆæ ‘é€‰æ‹©çš„è¾¹é›†æ˜¯ EME_MEMâ€‹ï¼Œä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘é€‰æ‹©çš„è¾¹é›†æ˜¯ ESE_SESâ€‹ï¼Œé‚£ä¹ˆéœ€è¦æ»¡è¶³ï¼š(value(e)value(e)value(e) è¡¨ç¤ºè¾¹ eee çš„æƒå€¼) âˆ‘eâˆˆEMvalue(e)&lt;âˆ‘eâˆˆESvalue(e)\\sum_{e \\in E_M}value(e)&lt;\\sum_{e \\in E_S}value(e)âˆ‘eâˆˆEMâ€‹â€‹value(e)&lt;âˆ‘eâˆˆESâ€‹â€‹value(e) è¿™ä¸‹å° C è’™äº†ï¼Œä»–æ‰¾åˆ°äº†ä½ ï¼Œå¸Œæœ›ä½ å¸®ä»–è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° NNN å’Œ MMMï¼Œè¡¨ç¤ºæ— å‘å›¾çš„ç‚¹æ•°ä¸è¾¹æ•°ã€‚ æ¥ä¸‹æ¥ MMM è¡Œï¼Œæ¯è¡Œ 333 ä¸ªæ•° x,y,zx,y,zx,y,z è¡¨ç¤ºï¼Œç‚¹ xxx å’Œç‚¹ yyy ä¹‹é—´æœ‰ä¸€æ¡è¾¹ï¼Œè¾¹çš„æƒå€¼ä¸º zzzã€‚ è¾“å‡ºæ ¼å¼ åŒ…å«ä¸€è¡Œï¼Œä»…ä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘çš„è¾¹æƒå’Œã€‚ æ ·ä¾‹è¾“å…¥ #1 5 6 1 2 1 1 3 2 2 4 3 3 5 4 3 4 3 4 5 6 æ ·ä¾‹è¾“å‡º #1 11 æç¤º æ•°æ®ä¸­æ— å‘å›¾ä¸ä¿è¯æ— è‡ªç¯ å¯¹äº 50%50\\%50% çš„æ•°æ®ï¼Œ Nâ‰¤2000N\\le 2000Nâ‰¤2000ï¼ŒMâ‰¤3000M\\le 3000Mâ‰¤3000ã€‚ å¯¹äº 80%80\\%80% çš„æ•°æ®ï¼Œ Nâ‰¤5Ã—104N\\le 5\\times 10^4Nâ‰¤5Ã—104ï¼ŒMâ‰¤105M\\le 10^5Mâ‰¤105ã€‚ å¯¹äº 100%100\\%100% çš„æ•°æ®ï¼Œ Nâ‰¤105N\\le 10^5Nâ‰¤105ï¼ŒMâ‰¤3Ã—105M\\le 3\\times10^5Mâ‰¤3Ã—105ï¼Œè¾¹æƒ âˆˆ[0,109]\\in [0,10^9]âˆˆ[0,109]ï¼Œæ•°æ®ä¿è¯å¿…å®šå­˜åœ¨ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘ã€‚ è§£æ é¦–å…ˆï¼Œæ¬¡å°ç”Ÿæˆæ ‘ä¸æœ€å°ç”Ÿæˆæ ‘ä¸åŒï¼Œä½†ä»ç„¶åªæœ‰nâˆ’1n-1nâˆ’1æ¡è¾¹ æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘åŠ å…¥ä¸€æ¡æœªé€‰çš„è¾¹ï¼Œå†å‡å»ä¸€æ¡é€‰æ‹©çš„è¾¹ å‡å»çš„è¾¹åº”è¯¥å°½é‡å°ï¼Œæ¯•ç«Ÿåœ¨æ±‚æ¬¡å°ç”Ÿæˆæ ‘ æ³¨æ„å¦‚æœå‡å»è¾¹ä¸åŠ å…¥è¾¹æƒå€¼ç›¸åŒçš„è¯ï¼Œå°±ä¸æ˜¯ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘ ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä¿å­˜ä¸€ä¸ªä¸¥æ ¼æ¬¡å°è¾¹ï¼Œä»¥é˜²ä¸‡ä¸€ å®¹æ˜“è¯æ˜è¿™æ ·ä¸€å®šæ˜¯æ¬¡å°ç”Ÿæˆæ ‘ #include &lt;bits/stdc++.h&gt; using namespace std; long long t, tt, fac[1000005], n, m, x, y, cnt, z, sum, ans = 1e18, h[1000005], fir[1000005][33], sec[1000005][33], fa[1000005][33], dep[100005]; bool vis[1000005]; inline long long read() { long long ans = 0; char c = getchar(); while ((c &lt; '0' || c &gt; '9') &amp;&amp; (c != '-')) { c = getchar(); } ans = c - '0'; c = getchar(); while (c &gt;= '0' &amp;&amp; c &lt;= '9') { ans = (ans &lt;&lt; 3) + (ans &lt;&lt; 1) + c - '0'; c = getchar(); } return ans; } struct node { long long s, t, w; } a[1000005]; struct nod { long long to, w, next; } b[1000005]; void add(long long x, long long y, long long z) { t++; a[t].s = x; a[t].t = y; a[t].w = z; } void adde(long long x, long long y, long long z) { tt++; b[tt].to = y; b[tt].w = z; b[tt].next = h[x]; h[x] = tt; } long long find(long long x) { if (fac[x] != x) { fac[x] = find(fac[x]); } return fac[x]; } long long cmp(node x, node y) { return x.w &lt; y.w; } void dfs(long long x, long long y) { fa[x][0] = y; for (long long j = 1; j &lt;= 32; j++) { fa[x][j] = fa[fa[x][j - 1]][j - 1]; fir[x][j] = max(fir[x][j - 1], fir[fa[x][j - 1]][j - 1]); sec[x][j] = max(sec[x][j - 1], sec[fa[x][j - 1]][j - 1]); if (fir[x][j - 1] &gt; fir[fa[x][j - 1]][j - 1]) { sec[x][j] = max(fir[fa[x][j - 1]][j - 1], sec[x][j]); } else if (fir[x][j - 1] &lt; fir[fa[x][j - 1]][j - 1]) { sec[x][j] = max(fir[x][j - 1], sec[x][j]); } } for (long long i = h[x]; i; i = b[i].next) { if (y != b[i].to) { dep[b[i].to] = dep[x] + 1; fir[b[i].to][0] = b[i].w; sec[b[i].to][0] = -1e18; dfs(b[i].to, x); } } } long long lca(long long x, long long y) { if (dep[x] &lt; dep[y]) { swap(x, y); } for (long long i = 32; i &gt;= 0; i--) { if (dep[fa[x][i]] &gt;= dep[y]) { x = fa[x][i]; } } if (x == y) { return x; } for (long long i = 32; i &gt;= 0 &amp;&amp; x != y; i--) { if (fa[x][i] != fa[y][i]) { x = fa[x][i], y = fa[y][i]; } } return fa[x][0]; } long long query(long long s, long long t, long long w) { long long cnt = -1e18; for (long long i = 32; i &gt;= 0; i--) { if (dep[fa[s][i]] &gt;= dep[t]) { if (w != fir[s][i]) cnt = max(cnt, fir[s][i]); else cnt = max(cnt, sec[s][i]); s = fa[t][i]; } } return cnt; } int main() { memset(b, false, sizeof(b)); n = read(), m = read(); for (long long i = 1; i &lt;= m; i++) { x = read(), y = read(), z = read(); add(x, y, z); fac[i] = i; } sort(a + 1, a + m + 1, cmp); for (long long j = 1; j &lt;= m; j++) { long long fa1 = find(a[j].s); long long fa2 = find(a[j].t); if (fa1 != fa2) { sum += a[j].w; adde(a[j].s, a[j].t, a[j].w); adde(a[j].t, a[j].s, a[j].w); vis[j] = 1; fac[fa1] = fa2; cnt++; if (cnt == n - 1) { break; } } } sec[1][0] = -1e18; dep[1] = 1; dfs(1, 0); ans = 1e18; for (long long i = 1; i &lt;= t; i++) { if (!vis[i]) { long long st = a[i].s; long long ed = a[i].t; long long fat = lca(st, ed); long long l = query(st, fat, a[i].w); long long r = query(ed, fat, a[i].w); ans = min(ans, sum - max(l, r) + a[i].w); } } cout &lt;&lt; ans; } ","tags":[{"index":-1,"name":"ç®—æ³•æ€»ç»“","slug":"Algorithm","used":true,"link":"https://Deng-Duck.github.io/tag/Algorithm/"}],"title":"æµ…è°ˆå€å¢æ³•æ±‚è§£LCA","feature":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwallpaperm.cmcm.com%2Fc9899ba117b0cff3ce98bd3ed39c3f7e.jpg&refer=http%3A%2F%2Fwallpaperm.cmcm.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1663501361&t=6c7f41faee22d1a323374d1463be1c3c","link":"https://Deng-Duck.github.io/post/qian-tan-bei-zeng-fa-qiu-jie-lca/","stats":{"text":"23 min read","time":1322000,"words":4440,"minutes":23},"date":"2022-06-09 19:44:24","dateFormat":"2022-06-09"},{"content":"æˆ‘çš„ BSGS å’Œå„ä½çŠ‡çŠ‡çš„å·®ä¸å¤šï¼Œä½†æ˜¯ä¸éœ€è¦æ±‚é€†å…ƒ å…¶å®åªè¦ç¨å¾®ä¿®æ”¹ï¼Œå°±èƒ½é¿å…ï¼ Luogu [ TJOI2007 ] å¯çˆ±çš„è´¨æ•° åŸé¢˜å±•ç° é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªè´¨æ•° pppï¼Œä»¥åŠä¸€ä¸ªæ•´æ•° bbbï¼Œä¸€ä¸ªæ•´æ•° nnnï¼Œç°åœ¨è¦æ±‚ä½ è®¡ç®—ä¸€ä¸ªæœ€å°çš„éè´Ÿæ•´æ•° lllï¼Œæ»¡è¶³ blâ‰¡n(modp)b^l \\equiv n \\pmod pblâ‰¡n(modp)ã€‚ è¾“å…¥æ ¼å¼ ä»…ä¸€è¡Œï¼Œæœ‰ 333 ä¸ªæ•´æ•°ï¼Œä¾æ¬¡ä»£è¡¨ p,b,np, b, np,b,nã€‚ è¾“å‡ºæ ¼å¼ ä»…ä¸€è¡Œï¼Œå¦‚æœæœ‰ lll æ»¡è¶³è¯¥è¦æ±‚ï¼Œè¾“å‡ºæœ€å°çš„ lllï¼Œå¦åˆ™è¾“å‡º no solutionã€‚ æ ·ä¾‹ #1 æ ·ä¾‹è¾“å…¥ #1 5 2 3 æ ·ä¾‹è¾“å‡º #1 3 æ•°æ®è§„æ¨¡ä¸çº¦å®š å¯¹äºæ‰€æœ‰çš„æµ‹è¯•ç‚¹ï¼Œä¿è¯ 2â‰¤b,n&lt;p&lt;2312\\le b,n &lt; p&lt;2^{31}2â‰¤b,n&lt;p&lt;231ã€‚ Baby Steps Giant Steps è¯¦è§£ æ³¨æ„åˆ°äº’è´¨ï¼Œæ ¹æ®æ¬§æ‹‰å®šç†ï¼Œæˆ‘ä»¬æ˜“å¾—l&lt;pl&lt; pl&lt;pï¼Œæšä¸¾çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(p)O(p)O(p) å…¶å®å¯ä»¥ä¼˜åŒ–åˆ°O(p)O(\\sqrt{p})O(pâ€‹)ï¼Œè®¾ m=âŒˆpâŒ‰,r=b%mm=\\lceil \\sqrt{p}\\rceil,r=b\\%mm=âŒˆpâ€‹âŒ‰,r=b%m äºæ˜¯æˆ‘ä»¬å¯ä»¥å°† åŸå¼å†™æˆ bkm+râ‰¡n(mod p)bkmâ‰¡nbâˆ’r(mod p)b^{km+r}\\equiv n(mod\\;p)\\\\ b^{km}\\equiv nb^{-r}(mod\\;p) bkm+râ‰¡n(modp)bkmâ‰¡nbâˆ’r(modp) å³è¾¹å¥½åƒè¦æ±‚é€†å…ƒå•Šï¼Œæˆ‘ä»¬ä¸æƒ³æ±‚é€†å…ƒï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ åªéœ€å°†å¼å­æ”¹æˆ bkmâˆ’râ‰¡n(mod p)bkmâ‰¡nbr(mod p)b^{km-r}\\equiv n(mod\\;p)\\\\ b^{km}\\equiv nb^{r}(mod\\;p) bkmâˆ’râ‰¡n(modp)bkmâ‰¡nbr(modp) è§£å†³äº†é—®é¢˜ æˆ‘ä»¬è€ƒè™‘æ‰¾åˆ°ä¸€ä¸ª kkk å’Œ ä¸€ä¸ª rrr ä½¿å¾—ä¸Šè¿°å¼å­æˆç«‹ï¼Œè¿™ä¸ªå¹¶ä¸éš¾ é¦–å…ˆæšä¸¾ rrr ï¼Œæ˜¾ç„¶æœ‰ r(1â‰¤râ‰¤m)r(1\\leq r\\leq m)r(1â‰¤râ‰¤m) æ³¨æ„è¿™é‡Œå’Œå¹¿å¤§æ‰“æ³•ä¸åŒ å› ä¸ºå¹¿å¤§æ‰“æ³•æ˜¯æšä¸¾ä½™æ•°ï¼Œè¿™é‡Œæšä¸¾çš„æ˜¯ç›¸åçš„ ç„¶åæŠŠå³è¾¹å¼å­çš„å€¼å“ˆå¸Œå­˜ä¸‹ï¼Œæšä¸¾å·¦è¾¹çš„ k(1â‰¤kâ‰¤m)k(1\\leq k \\leq m)k(1â‰¤kâ‰¤m) å¯¹äºå·¦è¾¹æšä¸¾æ±‚å‡ºçš„å€¼çœ‹çœ‹å“ˆå¸Œæ•°ç»„æ˜¯å¦å­˜åœ¨å¯¹åº”çš„å³è¾¹çš„å€¼ï¼Œå¦‚æœæœ‰ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªè§£ æå‡ºä¸€ä¸ªæœ€å°çš„è§£å¥½åƒä¹Ÿä¸æ˜¯å¾ˆéš¾å§..... æ—¶é—´å¤æ‚åº¦ O(m)O(m)O(m) ï¼Œä¹Ÿå°±æ˜¯ O(p)O(\\sqrt{p})O(pâ€‹) ç„¶åæ³¨æ„ä¸€ä¸‹ï¼Œè¦æ‰“å¾ˆå¤šç‰¹åˆ¤ ä¸Šä¸€ä¸‹ç é£å·¨ä¸‘çš„ä»£ç  inline ll ksc(ll x, ll y, const ll&amp; p) { return (x * y - (ll)((long double)x / p * y) * p + p) % p; } vector&lt;pair&lt;ll, int&gt; &gt; v[ 100013]; inline ll BSGS(ll a, ll b, const ll&amp;p) { if (b == 1) { if (a == 0) return -1; return 1; } if (b == 0) { if (a == 0) return 1; return -1; } if (a == 0) { return -1; } ll m = ceil(sqrt(p)), cnt = 1, res = 1; for (int r = 1; r &lt;= m; r++) { cnt = ksc(cnt, a, p);//è¿™ä¸ªé¾Ÿé€Ÿä¹˜ä¸æ˜¯é¾Ÿé€Ÿä¹˜ v[(ksc(cnt, b, p)) % mod].push_back(make_pair(ksc(cnt, b, p), r)); } for (int k = 1; k &lt;= m; k++) { res = ksc(cnt, res, p); ll id=res%mod; if (v[id].size()) { for (int j = v[id].size() - 1; j &gt;= 0; j--) { if (v[id][j].first ==res) { return m * k - v[id][j].second; } } } } return -1; } SPOJ3105 MOD åŸé¢˜å±•ç° é¢˜ç›®æè¿° ç»™å®š a,p,ba,p,ba,p,bï¼Œæ±‚æ»¡è¶³ axâ‰¡b(modp)a^xâ‰¡b \\pmod paxâ‰¡b(modp) çš„æœ€å°è‡ªç„¶æ•° xxx ã€‚ è¾“å…¥æ ¼å¼ æ¯ä¸ªæµ‹è¯•æ–‡ä»¶ä¸­åŒ…å«è‹¥å¹²ç»„æµ‹è¯•æ•°æ®ï¼Œä¿è¯ âˆ‘pâ‰¤5Ã—106\\sum \\sqrt p\\le 5\\times 10^6âˆ‘pâ€‹â‰¤5Ã—106ã€‚ æ¯ç»„æ•°æ®ä¸­ï¼Œæ¯è¡ŒåŒ…å« 333 ä¸ªæ­£æ•´æ•° a,p,ba,p,ba,p,b ã€‚ å½“ a=p=b=0a=p=b=0a=p=b=0 æ—¶ï¼Œè¡¨ç¤ºæµ‹è¯•æ•°æ®è¯»å…¥å®Œå…¨ã€‚ è¾“å‡ºæ ¼å¼ å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œã€‚ å¦‚æœæ— è§£ï¼Œè¾“å‡º No Solutionï¼Œå¦åˆ™è¾“å‡ºæœ€å°è‡ªç„¶æ•°è§£ã€‚ æ ·ä¾‹ #1 æ ·ä¾‹è¾“å…¥ #1 5 58 33 2 4 3 0 0 0 æ ·ä¾‹è¾“å‡º #1 9 No Solution æ•°æ®èŒƒå›´ å¯¹äº 100%100\\%100% çš„æ•°æ®ï¼Œ1â‰¤a,p,bâ‰¤1091\\le a,p,bâ‰¤10^91â‰¤a,p,bâ‰¤109 æˆ– a=p=b=0a=p=b=0a=p=b=0ã€‚ æ‰©å±• Baby Steps Giant Steps è¯¦è§£ æ³¨æ„åˆ°ä¸äº’è´¨ï¼Œé‚£æˆ‘ä»¬å°±è¦æƒ³åŠæ³•è®©å®ƒäº’è´¨ axâ‰¡b(mod p)axâˆ’kp=bè®¾d=gcd(a,p)è‹¥dâˆ£bä¸æˆç«‹ï¼Œåˆ™æ— è§£å¼å­é™¤då¾—axâˆ’1adâˆ’kpd=bdæ”¹è®°ä¸ºaxâˆ’1aâ€²âˆ’kpâ€²=bâ€²å³axâˆ’1aâ€²â‰¡bâ€²(mod pâ€²)a^x\\equiv b(mod\\;p)\\\\ a^x-kp=b\\\\ è®¾ d=gcd(a,p)\\\\ è‹¥ d|b ä¸æˆç«‹ï¼Œåˆ™æ— è§£\\\\ å¼å­é™¤ d å¾— a^{x-1}\\frac a d- k\\frac p d=\\frac b d\\\\ æ”¹è®°ä¸ºa^{x-1}a&#x27;- kp&#x27;=b&#x27;\\\\ å³ a^{x-1}a&#x27;\\equiv b&#x27;(mod\\; p&#x27;) axâ‰¡b(modp)axâˆ’kp=bè®¾d=gcd(a,p)è‹¥dâˆ£bä¸æˆç«‹ï¼Œåˆ™æ— è§£å¼å­é™¤då¾—axâˆ’1daâ€‹âˆ’kdpâ€‹=dbâ€‹æ”¹è®°ä¸ºaxâˆ’1aâ€²âˆ’kpâ€²=bâ€²å³axâˆ’1aâ€²â‰¡bâ€²(modpâ€²) å¦‚æ­¤åå¤ï¼Œç›´åˆ°äº’è´¨ä¸ºæ­¢ï¼Œå·®ä¸å¤šå°±æ˜¯ axâˆ’cntaâ€²â‰¡bâ€²(mod pâ€²)a^{x-cnt}a&#x27;\\equiv b&#x27;(mod\\; p&#x27;) axâˆ’cntaâ€²â‰¡bâ€²(modpâ€²) æ³¨æ„ï¼Œæ“ä½œæ—¶å¦‚æœä¸¤è¾¹å€¼ç›¸ç­‰äº†ï¼Œç­”æ¡ˆå°±æ˜¯ cntcntcnt ç„¶åå°±æ˜¯ä¸ªæ™®é€š BSGS ,å˜äº†ä¸€ç‚¹ç‚¹ï¼Œå·¦è¾¹éœ€è¦ä¹˜ä¸Š aâ€²a&#x27;aâ€²ï¼Œå…¶ä»–éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ æ±‚å‡ºç­”æ¡ˆä¹‹åç­”æ¡ˆè¦åŠ ä¸Š cntcntcnt ,å› ä¸ºæˆ‘ä»¬æ±‚å‡ºçš„æ˜¯ xâˆ’cntx-cntxâˆ’cnt æœ¬é¢˜æ—¶é™é«˜è¾¾ 4s ï¼Œå°±ç®—ä¸å†™å“ˆå¸Œç”¨ map ä¹Ÿèƒ½é€šè¿‡ å‚è€ƒå¦‚ä¸‹å®ç° vector&lt;pair&lt;ll, int&gt; &gt; v[ 1000013]; int vis[1000003]; inline ll exBSGS(ll a,ll b,ll p) { memset( vis,0,sizeof(vis)); if(p==0)return -1; if(p==1) { if(b==0)return 0; return -1; } if (b == 1) { if (a == 0) return -1; return 1; } if (b == 0) { if (a == 0) return 1; return -1; } if (a == 0) { return -1; } ll ak=0,t=1,d=gcd(a,p); while(d!=1) { ak++; t*=a; t/=d; p/=d; if(b%d!=0)return -1; b/=d; if(t%p==b%p)return ak; d=gcd(a,p); t%=p; } ll m = ceil(sqrt(p)), res=t%p,cnt=1; for (int r = 1; r &lt;= m; r++) { cnt = ksc(cnt, a, p); ll hash=(ksc(cnt, b, p)) % mod; if(vis[hash]==0) { vis[hash]=1; v[hash].clear(); } v[hash].push_back(make_pair(ksc(cnt, b, p), r)); } for (int k = 1; k &lt;= m; k++) { res = ksc(cnt, res, p); ll hash=res%mod; if (vis[hash]) { for (int j = v[hash].size() - 1; j &gt;= 0; j--) { if (v[hash][j].first ==res) { return m * k - v[hash][j].second+ak; } } } } return -1; } å¤§éƒ¨åˆ† BSGS é¢˜éƒ½å¾ˆæ˜æ˜¾ï¼Œéšä¾¿æŒ‘äº†å‡ é“ P4884 å¤šå°‘ä¸ª 1ï¼Ÿ åŸé¢˜å±•ç° é¢˜ç›®æè¿° ç»™å®šæ•´æ•° KKK å’Œè´¨æ•° mmmï¼Œæ±‚æœ€å°çš„æ­£æ•´æ•° NNNï¼Œä½¿å¾— 11â‹¯111\\cdots 111â‹¯1ï¼ˆNNN ä¸ª 111ï¼‰â‰¡K(modm)\\equiv K \\pmod mâ‰¡K(modm)ã€‚ è¯´äººè¯ï¼šå°±æ˜¯ 111â‹¯1111 mod m=K111\\cdots 1111 \\bmod m = K111â‹¯1111modm=Kã€‚ è¾“å…¥æ ¼å¼ ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤º KKK å’Œ mmmã€‚ è¾“å‡ºæ ¼å¼ ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç¬¦åˆæ¡ä»¶æœ€å°çš„ NNNã€‚ æ ·ä¾‹ #1 æ ·ä¾‹è¾“å…¥ #1 9 17 æ ·ä¾‹è¾“å‡º #1 3 æç¤º 30%30\\%30% çš„æ•°æ®ä¿è¯ mâ‰¤106m\\leq 10^6mâ‰¤106ã€‚ 60%60\\%60% çš„æ•°æ®ä¿è¯ mâ‰¤5Ã—107m\\leq 5\\times 10^7mâ‰¤5Ã—107ã€‚ 100%100\\%100% çš„æ•°æ®ä¿è¯ 6â‰¤mâ‰¤10116\\leq m\\leq 10^{11}6â‰¤mâ‰¤1011ï¼Œ0&lt;K&lt;m0&lt; K&lt; m0&lt;K&lt;mï¼Œä¿è¯ mmm æ˜¯è´¨æ•°ã€‚ è§£æ³• å°†å¼å­ä¹˜ä¹ï¼Œå†åŠ ä¸€ï¼Œå¾—åˆ°ä¸€ä¸ªå¼å­ 10N+1=9âˆ—k+1(mod m)10^{N+1}=9*k+1(mod\\; m) 10N+1=9âˆ—k+1(modm) ç„¶å BSGS å³å¯ [SDOI2013] éšæœºæ•°ç”Ÿæˆå™¨ åŸé¢˜å±•ç° é¢˜ç›®èƒŒæ™¯ å° W å–œæ¬¢è¯»ä¹¦ï¼Œå°¤å…¶å–œæ¬¢è¯»ã€Šçº¦ç¿°å…‹é‡Œæ–¯æœµå¤«ã€‹ã€‚ é¢˜ç›®æè¿° æœ€è¿‘å° W å‡†å¤‡è¯»ä¸€æœ¬æ–°ä¹¦ï¼Œè¿™æœ¬ä¹¦ä¸€å…±æœ‰ ppp é¡µï¼Œé¡µç èŒƒå›´ä¸º 0âˆ¼pâˆ’10 \\sim p-10âˆ¼pâˆ’1ã€‚ å° W å¾ˆå¿™ï¼Œæ‰€ä»¥æ¯å¤©åªèƒ½è¯»ä¸€é¡µä¹¦ã€‚ä¸ºäº†ä½¿äº‹æƒ…æœ‰è¶£ä¸€äº›ï¼Œä»–æ‰“ç®—ä½¿ç”¨ NOI2012 ä¸Šå­¦ä¹ çš„çº¿æ€§åŒä½™æ³•ç”Ÿæˆä¸€ä¸ªåºåˆ—ï¼Œæ¥å†³å®šæ¯å¤©å…·ä½“è¯»å“ªä¸€é¡µã€‚ æˆ‘ä»¬ç”¨ xix_ixiâ€‹ æ¥è¡¨ç¤ºé€šè¿‡è¿™ç§æ–¹æ³•ç”Ÿæˆå‡ºæ¥çš„ç¬¬ iii ä¸ªæ•°ï¼Œä¹Ÿå³å° W ç¬¬ iii å¤©ä¼šè¯»å“ªä¸€é¡µã€‚è¿™ä¸ªæ–¹æ³•éœ€è¦è®¾ç½® 333 ä¸ªå‚æ•° a,b,x1a,b,x_1a,b,x1â€‹ï¼Œæ»¡è¶³ 0â‰¤a,b,x1&lt;p0\\leq a,b,x_1\\lt p0â‰¤a,b,x1â€‹&lt;pï¼Œä¸” a,b,x1a,b,x_1a,b,x1â€‹ éƒ½æ˜¯æ•´æ•°ã€‚æŒ‰ç…§ä¸‹é¢çš„å…¬å¼ç”Ÿæˆå‡ºæ¥ä¸€ç³»åˆ—çš„æ•´æ•°ï¼š xi+1â‰¡aÃ—xi+b(modp)x_{i+1} \\equiv a \\times x_i+b \\pmod p xi+1â€‹â‰¡aÃ—xiâ€‹+b(modp) å…¶ä¸­ mod \\bmodmod è¡¨ç¤ºå–ä½™æ“ä½œã€‚ ä½†æ˜¯è¿™ç§æ–¹æ³•å¯èƒ½å¯¼è‡´æŸä¸¤å¤©è¯»çš„é¡µç ä¸€æ ·ã€‚ å° W è¦è¯»è¿™æœ¬ä¹¦çš„ç¬¬ ttt é¡µï¼Œæ‰€ä»¥ä»–æƒ³çŸ¥é“æœ€æ—©åœ¨å“ªä¸€å¤©èƒ½è¯»åˆ°ç¬¬ ttt é¡µï¼Œæˆ–è€…æŒ‡å‡ºä»–æ°¸è¿œä¸ä¼šè¯»åˆ°ç¬¬ ttt é¡µã€‚ è¾“å…¥æ ¼å¼ æœ¬é¢˜å•æµ‹è¯•ç‚¹å†…æœ‰å¤šç»„æµ‹è¯•æ•°æ®ã€‚ ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•° TTTï¼Œè¡¨ç¤ºæµ‹è¯•æ•°æ®ç»„æ•°ã€‚ æ¥ä¸‹æ¥ TTT è¡Œï¼Œæ¯è¡Œæœ‰äº”ä¸ªæ•´æ•° p,a,b,x1,tp, a, b, x_1, tp,a,b,x1â€‹,tï¼Œè¡¨ç¤ºä¸€ç»„æ•°æ®ã€‚ è¾“å‡ºæ ¼å¼ å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°è¡¨ç¤ºä»–æœ€æ—©è¯»åˆ°ç¬¬ ttt é¡µæ˜¯å“ªä¸€å¤©ã€‚å¦‚æœä»–æ°¸è¿œä¸ä¼šè¯»åˆ°ç¬¬ ttt é¡µï¼Œè¾“å‡ºâˆ’1-1âˆ’1ã€‚ æ ·ä¾‹ #1 æ ·ä¾‹è¾“å…¥ #1 3 7 1 1 3 3 7 2 2 2 0 7 2 2 2 1 æ ·ä¾‹è¾“å‡º #1 1 3 -1 æç¤º å¯¹äºå…¨éƒ¨çš„æµ‹è¯•ç‚¹ï¼Œä¿è¯ï¼š 1â‰¤Tâ‰¤501 \\leq T \\leq 501â‰¤Tâ‰¤50ã€‚ 0â‰¤a,b,x1,t&lt;p0 \\leq a, b, x_1, t \\lt p0â‰¤a,b,x1â€‹,t&lt;pï¼Œ2â‰¤pâ‰¤1092 \\leq p \\leq 10^92â‰¤pâ‰¤109ã€‚ ppp ä¸ºè´¨æ•°ã€‚ è§£æ³• æ¨å¼å­ï¼Œæˆ‘è¿˜æ²¡åšï¼Œç­‰å‡ å¤©å§... ","tags":[{"index":-1,"name":"ç®—æ³•æ€»ç»“","slug":"Algorithm","used":true,"link":"https://Deng-Duck.github.io/tag/Algorithm/"}],"title":"æµ…è°ˆBSGSå’ŒEXBSGS","feature":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fi0.hdslb.com%2Fbfs%2Farticle%2F0ddace757ef68ab4d1ef7650cf949cb506e389e9.png&refer=http%3A%2F%2Fi0.hdslb.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1663501361&t=abb2f09dd212ee3c62af2a74c044f50c","link":"https://Deng-Duck.github.io/post/qian-tan-bsgs-he-exbsgs/","stats":{"text":"11 min read","time":636000,"words":2251,"minutes":11},"date":"2022-05-28 19:40:31","dateFormat":"2022-05-28"},{"content":"Tampermonkey æ˜¯ä¸€æ¬¾å…è´¹çš„æµè§ˆå™¨æ‰©å±•å’Œæœ€ä¸ºæµè¡Œçš„ç”¨æˆ·è„šæœ¬ç®¡ç†å™¨ åœ¨æˆ‘ä»¬å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œå¾€å¾€æƒ³è¦æ›´å¤šåŠŸèƒ½ è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ TamperMonkey æ’ä»¶è¿›è¡Œç¾åŒ– Part 1: TamperMonkey æ’ä»¶ Part 1.1 å®‰è£… Tampermonkey Chrome éœ€è¦ç”¨å›½å†…ä¸€äº›å°å‹æ’ä»¶ä¸‹è½½ç«™ï¼Œå¦‚ï¼šThis è¯·æ³¨æ„ä¸ªäººç”µè„‘å®‰å…¨ å…¶ä»–æµè§ˆå™¨åœ¨è½¯ä»¶å•†åº—ä¸‹è½½ï¼Œä»¥ Firefox ä¸ºä¾‹ æ‰“å¼€è½¯ä»¶å•†åº—ï¼ŒThis æœç´¢ Tampermonkey ï¼Œä¸‹è½½å®‰è£… Part 1.2 å¯¹æ¯” Tampermonkey å’Œ Stylus å¤§å®¶å¯èƒ½ä¹Ÿç”¨è¿‡ Stylusç¾åŒ–Luoguï¼Œé‚£ä¹ˆä¸¤è€…æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ ä»£ç ä¸å…¼å®¹ï¼ˆ TamperMonkey æ˜¯ JS ,Stylus æ˜¯ CSSï¼‰ Tampermonkey å®ç°æ’ä»¶è¾ƒå¤šï¼Œ Styluså®ç°ç¾åŒ–è¾ƒå¤š Tampermonkey &gt; Stylus Tampermonkey æ’ä»¶çš„å…¼å®¹æ€§ä¸å¦‚ Stylus æœ€åä¸€ä¸ªç»“è®ºæ˜¯æœ¬äººåœ¨ Windows å’Œ Linux ä¸Šæµ‹è¯•å¾—åˆ°çš„ æ¨èä¸‰ä¸ªæ’ä»¶ å¥½äº†ï¼Œè¿™é‡Œæ¨èä¸‰ä¸ª Luogu çš„æ’ä»¶ï¼Œéƒ½æ˜¯å·¥å…·æ€§çš„ Luogu Search AnyWhere ç ”å‘è€…ï¼štiger2005 æœ€è¿‘å‡ºå“çš„æ´›è°·æœç´¢å¼•æ“ï¼Œæ¯”åŸæ¥çš„æœç´¢å¼•æ“å¼ºå¤§å¾ˆå¤š æ’ä»¶ä¸‹è½½åœ°å€â€”â€”This ç‚¹å‡»ä¸Šæ–¹çº¢åœˆçš„**â€œæ”¾å¤§é•œâ€**å›¾ä¾‹ï¼Œå°±å¯ä»¥ä½¿ç”¨äº† å¦‚æœä½ æ²¡æœ‰ä¸‹è½½ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªå°å°çš„æ¡†å­ï¼Œè®©ä½ è¾“å…¥é¢˜å· ä½†æ˜¯å¦‚æœä¸‹è½½æˆåŠŸï¼Œå°±ä¼šçœ‹åˆ° çš„ç•Œé¢ï¼Œå°±å¯ä»¥æœç´¢åŠ›ï¼ å¯ä»¥æœç´¢ç”¨æˆ·ï¼Œæœç´¢é¢˜ç›®ï¼Œæœç´¢å¸–å­ æ•ˆæœå›¾ éå¸¸æ–¹ä¾¿æˆ‘ä»¬æœç´¢ï¼ Luogu Tasks ç ”å‘è€…ï¼š__ OwO __ ä¸‹è½½é“¾æ¥â€”â€”This ä¸‹è½½ä¹‹åï¼Œå¯ä»¥åœ¨é¢˜ç›®ç•Œé¢çœ‹è§åšé¢˜åŠ©æ‰‹ ä½ éœ€è¦ç”¨ä¸€ä¸ªé¢˜å•æ”¯æ’‘å®ƒï¼Œåœ¨è®¾ç½®-æœ¬åœ°é¢˜å•è¾“å…¥ä¸€ä¸ªé¢˜å•å· å¦‚å›¾å·²ç»é…ç½®å¥½äº† ç„¶åå°±å¯ä»¥ä½¿ç”¨äº†ï¼ ä½ çœ‹ï¼Œä¸é”™å§ï¼Œéå¸¸æ–¹ä¾¿ï¼ ä½†æ˜¯ï¼Œå¦‚æœæ·»åŠ é¢˜éœ€è¦å›åˆ°é¢˜å•ä¸€ä¸ªä¸€ä¸ªåŠ ååˆ†éº»çƒ¦ å¯ä»¥ç”¨åŠ©æ‰‹å³ä¸Šæ–¹çš„æ·»åŠ è‡³åˆ—è¡¨ï¼Œå¿«é€Ÿæ·»åŠ  æˆ–è€…åœ¨ä¸Šå›¾çš„æ·»åŠ æŒ‰é’®æ·»åŠ  å¿«æ¥è¯•è¯•å§ï¼ Extend-Luogu åˆ¶ä½œè€…ï¼šoptimize_2 ä¸€ä¸ªè¢«å®˜æ–¹åŠæ‰¿è®¤çš„æ’ä»¶ï¼ ä¸è¿‡è¿™ä¸ªä¸»è¦æ˜¯å¨±ä¹æ€§çš„ï¼Œ ä¸‹è½½é“¾æ¥â€”â€”This ä½ å¯ä»¥æ–°å»ºä¸€ä¸ªé‡ç°èµ› é”™è¿‡äº†ä¸€æ¬¡æ¯”èµ›ï¼Œæƒ³åƒçœŸçš„æ‰“æ¯”èµ›ä¸€æ ·å®Œæˆå— ä½ å¯ä»¥æ–°å»ºä¸€ä¸ªé‡ç°èµ›ï¼ ä½ éœ€è¦è¾“å…¥å¼€å§‹æ—¶é—´ æ³¨æ„ï¼šåŸç†æ˜¯æ–°å»ºä¸€ä¸ªæ¯”èµ›ï¼Œæ‰€ä»¥é¢˜ç›®ä¸å…¬å¼€å°±æ— æ³•æ–°å»º è‡ªåŠ¨å¡«å……éªŒè¯ç  å¸–å­ç­‰è‡ªåŠ¨å¡«å……éªŒè¯ç ï¼Œæœ‰å¯èƒ½é”™è¯¯ï¼Œä½†å¤šæ¥ä¸€æ¬¡å°±å¯ä»¥äº† éå¸¸èˆ’æœ é¸£è°¢ Tothetime_tolife çŠ‡çŠ‡æŒ‡å‡ºäº†é“¾æ¥æŒ‚æ‰ ppip çŠ‡çŠ‡è¡¥å……äº† TamperMonkey æ˜¯ JS ä»£ç  ","tags":[{"name":"Gridea","slug":"rNPEneU98","used":true,"link":"https://Deng-Duck.github.io/tag/rNPEneU98/"}],"title":"æ¨èä¸‰ä¸ªå¥½ç”¨çš„TamperMonkeyæ´›è°·æ’ä»¶","feature":"https://img.tt98.com/d/2020/2020061918007893/5eec88cebaeda.jpg","link":"https://Deng-Duck.github.io/post/tui-jian-san-ge-hao-yong-de-tampermonkey-luo-gu-cha-jian/","stats":{"text":"3 min read","time":140000,"words":656,"minutes":3},"date":"2022-05-19 14:22:39","dateFormat":"2022-05-19"},{"content":"å› ä¸ºæ˜¯çº¿ä¸Šï¼Œæ‰€ä»¥æ²¡å¾—æ¸¸è®° Day 0 GDOIçœŸå¥‡æ€ªï¼Œä¸‹è½½ä¸€å †å¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ï¼Œå› æ­¤æ¢æˆäº†windows,é…ç½®äº†åŠå¤©vscode ä¸‹åˆçš„ä¿¡å¿ƒèµ›æ‰“æˆæ³„æ°”èµ›äº†ï¼Œåˆä¸€ç¬¬å›› T4ç”¨æ ‘çš„ç›´å¾„çš„æ€æƒ³åšçš„ï¼Œå¯„äº† T6ç®€å•å¾ªç¯é¢˜æ€è·¯é”™è¯¯ï¼Œåˆæƒ³åˆ°åˆ†è§£äº† æˆ‘å‘ç°æ¯æ¬¡æƒ³åˆ°åˆ†è§£å¿…å‡ºäº‹æ˜¯å§ï¼ˆNOI ONLINEçš„æ•°å­¦æ¸¸æˆä¹Ÿæƒ³æˆåˆ†è§£äº†ï¼Œ0åˆ†ï¼‰ T8å°±æ˜¯ç»å…¸çš„æ¨¡çš„å¾ªç¯é—®é¢˜ï¼Œæ²¡æ‰“å®Œ T7å’ŒT9æ˜¯æ°´åˆ†çš„ Day 1 å®Œå…¨çˆ†ç‚¸ï¼Œæ¯ä¸€é“ACçš„ T1æ²¡æœ‰åˆ¤ A=B=C=0A=B=C=0A=B=C=0 çš„æƒ…å†µ T2æƒ³é”™äº†ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªç®€å•çš„å‰ç¼€å¼‚æˆ– T3æ‰“äº†ä¸€ä¸ª O(n2)O(n^2)O(n2) çš„æ ‘å½¢DP T4æ°´åˆ†çš„ å¬å®Œè®²è§£è§‰å¾—è‡ªå·±æ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„SB å¥½å§ï¼Œå°†ä¸€åˆ‡å¸Œæœ›å¯„æ‰˜äºDay2 ç»è¿‡ä¸€æ¬¡å®æˆ˜ï¼ŒæŒæ¡äº†è¿™ä¸ªæ¯”èµ›çš„å‡ºé¢˜æ–¹å‘ Day 2 æˆç»©å‡ºæ¥äº†ï¼210ï¼è¿˜ç®—å¯ä»¥å§..... 100+0+50+60 ä¸æ˜¯ï¼Œä¸ºä»€ä¹ˆT2æŒ‚äº†å•Šï¼Œè™½ç„¶æƒ³é”™äº†ä½†ä¸è‡³äº0åˆ†å§..... T3T4æ¯”æƒ³è±¡ä¸­çš„åˆ†é«˜ï¼Œå¥½è€¶! æ’å174å·¦å³ Day2å°è¯•é€†é£ç¿»ç›˜ T1çœ‹ä¸¤çœ¼å°±åˆ‡äº†ï¼Œä¸å°±æ˜¯åŒä½™å—ï¼Œç„¶åå°±å†™æŒ‚äº†... å“¦ï¼ŒåŸæ¥æ˜¯ k=0(modn)k=1(modn)k=2(modn)k=0(mod n)\\\\ k=1(mod n)\\\\ k=2(mod n)\\\\ k=0(modn)k=1(modn)k=2(modn) å¾— k=0(modn)kâˆ’1=0(modn)kâˆ’2=0(modn)k=0(mod n)\\\\ k-1=0(mod n)\\\\ k-2=0(mod n)\\\\ k=0(modn)kâˆ’1=0(modn)kâˆ’2=0(modn) å•Šï¼Œé‚£æ²¡äº‹äº†ï¼Œæˆ‘å†™æˆåŠ ä¸€å‡ä¸€äº†ï¼Œæ”¹äº†å°±åˆ‡äº† T2ç…§ç€æ ·ä¾‹æ¨¡æ‹Ÿäº†ä¸€éå°±æƒ³åˆ°æ­£è§£äº†ï¼Œè¿”å›æœ‰ç‚¹éš¾æï¼Œå“¦ï¼Œæ²¡ç”¨å•Šï¼Œé‚£æ²¡äº‹äº† T3æ˜¯ä»€ä¹ˆåƒåœ¾çƒ‚é¢˜ï¼Œu1s1ï¼ŒçœŸçš„å‡ºçš„æ²¡æ°´å¹³ï¼Œ å·®ä¸å¤šåŠä¸ªå°æ—¶æ±‚å®Œå¸¸æ•°ï¼Œç³Šäº†ä¸€ä¸ªä»£ç ï¼Œå¸Œæœ›å¾—åˆ† T4ç³Šäº†ä¸€ä¸ªO(nmâˆ£Sâˆ£)O(nm|S|)O(nmâˆ£Sâˆ£)çš„DP é™„ä¸€ä¸‹DPä»£ç  for(int i=1;i&lt;=n;i++) { for(int j=0;j&lt;=ss;j++) { f[i][0][ss]=1; f[i][m+1][ss]=1; } } for(int i=1;i&lt;=m;i++) { for(int j=0;j&lt;=ss;j++) { f[0][i][ss]=1; f[n+1][i][ss]=1; } } for(int i=ss-1;i&gt;=0;i--) { for(int x=1;x&lt;=n;x++) { for(int y=1;y&lt;=m;y++) { f[x][y][i]=f[x][y][i+1]; if(s[i]=='W'&amp;&amp;mp[x-1][y]==0) { f[x][y][i]|=f[x-1][y][i+1]; } if(s[i]=='S'&amp;&amp;mp[x+1][y]==0) { f[x][y][i]|=f[x+1][y][i+1]; } if(s[i]=='A'&amp;&amp;mp[x][y-1]==0) { f[x][y][i]|=f[x][y-1][i+1]; } if(s[i]=='D'&amp;&amp;mp[x][y+1]==0) { f[x][y][i]|=f[x][y+1][i+1]; } } } } æ¯”èµ›ç»“æŸï¼Œä¸­åˆå‡ºå»åƒé¥­ï¼Œé«˜å…´åäº† T1çš„åšæ³•çš„æ•™æˆæ˜¯ä¸€æ ·çš„ï¼Œåº”è¯¥æ²¡é—®é¢˜ T2æ•™æˆå’Œæˆ‘çš„ç»“è®ºä¸ä¸€æ ·ï¼Œä»–è¯´æ˜¯n+Leaves Numbern+Leaves\\;Numbern+LeavesNumber, Leaves NumberLeaves\\;NumberLeavesNumberæ˜¯å¶å­èŠ‚ç‚¹çš„ä¸ªæ•° æˆ‘è¯´ç»“è®ºä¸å¯¹ï¼Œåº”è¯¥æ˜¯è´ªå¿ƒï¼Œä»–çœ‹æˆ‘ä»£ç ï¼Œå‘ç°å…¶å®æˆ‘ä»¬ä¸¤ä¸ªæ˜¯ä¸€æ ·çš„ï¼Œnice T3æˆ‘å¸¸æ•°è°ƒå¯¹äº†ï¼Œå®ç°ä¸çŸ¥é“æ€ä¹ˆæ ·ï¼Œå¬å‰ç¼€å’Œåšæ³•å¥½çŸ­å•Šï¼Œ60è¡Œï¼Œæˆ‘æ¥è¿‘300è¡Œäº† T3ä»£ç è§åé¢çš„é™„å½• T4çš„DPæˆ‘çš„æ˜¯O(nmâˆ£Sâˆ£)O(nm|S|)O(nmâˆ£Sâˆ£)çš„å•Šï¼Œæ­£ç¡®æ€§æ²¡é—®é¢˜å§ HZXå¤§ä½¬è¯´è€å¸ˆè®²äº†ï¼Œä½†æˆ‘æ‘¸é±¼æ²¡å¬åˆ°ï¼Œå‘µå‘µå‘µ æ€»ç»“ åˆ†æ•° 100+0+50+60+100+100+40+0=450100+0+50+60+100+100+40+0=450 100+0+50+60+100+100+40+0=450 å¤ªå¤±æœ›äº†ï¼ æ’å Day1 174Day2 154 Up 20\\texttt{Day1}\\;\\texttt{174}\\\\ \\texttt{Day2}\\;\\texttt{154}\\;\\color{red}{\\texttt{Up 20}} Day1174Day2154Up 20 æ²¡è®°æ¸…æ¥šï¼Œå·®ä¸å¤šè¿™æ · å¸Œæœ›ä»¥ååŠ å¼ºæ€ç»´å§ï¼Œè¿™æ¬¡æœ‰150150150åˆ†éƒ½æ˜¯ä¸è¯¥ä¸¢çš„ Day1é¢˜è§£ T1 é‚¹å¿Œè®½é½ç‹çº³è° æ‰“å¡é¢˜ï¼Œå»ºè®®æ¨¡æ‹Ÿ å»ºè®®ä½¿ç”¨map,æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)O(nlogn)O(nlogn) ç‰¹åˆ¤æ³¨æ„æ•°æ®â€”â€” 0â‰¤A,B,C0 \\leq A,B,C 0â‰¤A,B,C éœ€è¦ç‰¹åˆ¤ä¸º0çš„æƒ…å†µ T2 æ•°åˆ—æ¸¸æˆ é¦–å…ˆæ±‚å‡ºå‰ç¼€å¼‚æˆ–å’Œï¼Œsum1,sum2,sum3,.....sumnsum_1,sum_2,sum_3,.....sum_nsum1â€‹,sum2â€‹,sum3â€‹,.....sumnâ€‹ï¼Œ å¦‚æœä¸€ä¸ªåŒºé—´[l,r][l,r][l,r]å¼‚æˆ–å’Œä¸º0ï¼Œé‚£ä¹ˆsumrâŠ•sumlâˆ’1=0sum_râŠ•sum_{l-1}=0sumrâ€‹âŠ•sumlâˆ’1â€‹=0 ç§»é¡¹å¾—sumr=sumlâˆ’1sum_r=sum_{l-1}sumrâ€‹=sumlâˆ’1â€‹ ç‰¹åˆ«æ³¨æ„â€”â€”å¦‚æœsumx=0sum_x=0sumxâ€‹=0ï¼Œé‚£å°±å·²ç»å¯ä»¥ç­›æ‰xxxäº† å› æ­¤é—®é¢˜æ˜¯åœ¨è¿™äº›å‰ç¼€å¼‚æˆ–å’Œæ±‚æœ‰å¤šå°‘ä¸ªä¸ä¸º0çš„ä¸åŒçš„æ•° T3 æµæ°´çº¿ å †ä¼˜åŒ–è´ªå¿ƒï¼Œä¸€å¼€å§‹m=1m=1m=1(åœ¨1ä¸Š) éšmmmçš„å˜å¤§ï¼Œæ¯æ¬¡å¾€ä¸‹åŠ å…¥èŠ‚ç‚¹ï¼Œè®©max(w1,w2,â‹…â‹…â‹…,wm)max(w_1, w_2, Â· Â· Â· , w_m)max(w1â€‹,w2â€‹,â‹…â‹…â‹…,wmâ€‹)å°½å¯èƒ½å°ï¼Œ æ±‚å‡ºè¿‡ç¨‹ä¸­çš„æœ€å°å€¼å°±æ˜¯ç­”æ¡ˆ ä¹Ÿå¯ä»¥ä½¿ç”¨äºŒåˆ†ï¼Œçº¿æ®µæ ‘ è¿™ä¸ªæ­£ç¡®æ€§ååˆ†æ˜¾ç„¶ T4 å°å­¦ç”Ÿè®¡æ•°é¢˜ æšä¸¾æ•°å­—å’Œå…¬å·®çš„åšæ³•å¯ä»¥æ‹¿åˆ°60åˆ† è’Ÿè’»ä¹Ÿä¸ä¼šï¼Œæ±‚è®²è§£ å¤§æ¦‚æ˜¯æ±‚å‡ºä¸€æ•´æ¡é“¾ï¼Œåœ¨å½“ä¸­å–éƒ¨åˆ†çš„æ–¹æ¡ˆæ•°ï¼Œä½¿ç”¨å‰ç¼€ç§¯+åŒºé—´é€†å…ƒè§£å†³ å¸Œæœ›æœ‰çŠ‡çŠ‡åœ¨è¯„è®ºåŒºè¡¥å…… Day2é¢˜è§£ T1ç‚¹æŒ‡å…µå…µ æˆ‘ä»¬è®¾æœ‰xxxä¸ªç‰©å“ï¼Œé‚£ä¹ˆæœ€åä¼šæŒ‡åˆ°n mod xn\\;mod\\;xnmodx æ ¹æ®é¢˜æ„ï¼Œæˆ‘ä»¬ä¸èƒ½è®©nâ‰¡0,1,2(mod x)n\\equiv0,1,2(mod\\;x)nâ‰¡0,1,2(modx) æ ¹æ®åŒä½™çš„å¯å‡æ€§ï¼Œæˆ‘ä»¬å¾—åˆ° nâ‰¡0(mod x)nâˆ’1â‰¡0(mod x)nâˆ’2â‰¡0(mod x)n\\equiv0(mod\\; x)\\\\ n-1\\equiv0(mod\\; x)\\\\ n-2\\equiv0(mod\\; x)\\\\ nâ‰¡0(modx)nâˆ’1â‰¡0(modx)nâˆ’2â‰¡0(modx) ç°åœ¨å¾ˆæ˜æ˜¾äº†ï¼Œå¦‚æœä¸æƒ³è®©nâ‰¡0,1,2(mod x)n\\equiv0,1,2(mod\\;x)nâ‰¡0,1,2(modx)ï¼Œé‚£è¿™ä¸ªxxxä¸æ˜¯n,nâˆ’1,nâˆ’2n,n-1,n-2n,nâˆ’1,nâˆ’2çš„å› å­ æˆ‘ä»¬å¯ä»¥ç”¨O(n)O(\\sqrt{n})O(nâ€‹)çš„å¤æ‚åº¦æ±‚å‡ºä¸‰è€…çš„å› å­æ•°é‡ æ ¹æ®åŒä½™æ€§è´¨ï¼Œæ˜¯ä¸å¯èƒ½å‡ºç°é‡å¤çš„ï¼Œä¸éœ€è¦å®¹æ–¥ï¼Œç›´æ¥åŒºé—´-éƒ¨åˆ†å³å¯ ans=nâˆ’3+1âˆ’nçš„å› å­æ•°é‡âˆ’(nâˆ’1)çš„å› å­æ•°é‡âˆ’(nâˆ’2)çš„å› å­æ•°é‡ans=n-3+1-nçš„å› å­æ•°é‡-(n-1)çš„å› å­æ•°é‡-(n-2)çš„å› å­æ•°é‡ ans=nâˆ’3+1âˆ’nçš„å› å­æ•°é‡âˆ’(nâˆ’1)çš„å› å­æ•°é‡âˆ’(nâˆ’2)çš„å› å­æ•°é‡ T2ç½‘é¡µæµè§ˆ é¦–å…ˆä¸éœ€è¦è¿”å›æ“ä½œï¼Œæ›¿æ¢+è¿”å›=æ–°å»º+åˆ é™¤ï¼Œåè€…æ“ä½œæ€§æ›´å¼º ç„¶åï¼Œå¯¹äºä¸€æ£µæ ‘ï¼Œæœ€ä¼˜æ˜¾ç„¶æ˜¯å‰å‡ ä¸ªå„¿å­æ–°å»ºï¼Œæœ€åä¸€ä¸ªå„¿å­æ›¿æ¢ å› ä¸ºä¸€ä¸ªç½‘é¡µåªæœ‰ä¸€ä¸ªçˆ¶äº²ï¼Œåœ¨æ‰€æœ‰å„¿å­è¢«è®¿é—®ä¹‹å‰ï¼Œçˆ¸çˆ¸ä¸èƒ½æ­» ä½†æœ€åä¸€ä¸ªå„¿å­è¢«è®¿é—®åï¼Œçˆ¸çˆ¸å°±å¯æœ‰å¯æ— äº†ï¼Œè¿™æ—¶å€™ä½¿ç”¨æ›¿æ¢æ­¥æ•°æ›´å°‘ å¯¹äºä¸‹é¢çš„å¶å­ç»“ç‚¹ï¼Œé™¤äº†è®¿é—®ï¼Œè¿˜è¦åˆ é™¤ æˆ‘ä»¬ä¸éš¾å¾—å‡ºä¸€ä¸ªç»“è®ºï¼Œanswer=n+Leaves Numberanswer=n+Leaves\\;Numberanswer=n+LeavesNumber, Leaves NumberLeaves\\;NumberLeavesNumberæ˜¯å¶å­èŠ‚ç‚¹çš„ä¸ªæ•° å› ä¸ºä½¿ç”¨ä¸Šè¿°æ–¹æ¡ˆï¼Œæ¯ä¸ªç»“ç‚¹æ°å¥½è¢«è®¿é—®ä¸€æ¬¡ï¼Œæœ‰å„¿å­çš„èŠ‚ç‚¹è¢«æœ€åä¸€ä¸ªå„¿å­æ›¿æ¢ï¼Œè€Œå¶å­èŠ‚ç‚¹è¿˜éœ€è¦åˆ é™¤è‡ªå·± æ‰€ä»¥å°±æ˜¯ä¸Šé¢çš„å¼å­äº† T3 æ•™å®¤çš„ç”µå­é’Ÿ æ€è·¯éå¸¸ç®€å•ï¼Œåšæ³•å¾ˆå¤šï¼Œä½†é¢˜ç›®å¾ˆæ¶å¿ƒ æœ€å¥½çš„åšæ³•æ˜¯å…­åè¡Œçš„å‰ç¼€å’Œåšæ³• è®°å½•0å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’åˆ°xxxå¹´yyyæœˆzzzæ—¥aaaæ—¶bbbåˆ†cccç§’ä¸€å…±æ¶ˆè€—äº†å¤šå°‘å•ä½çš„ç”µä¸ºAAA è®°å½•0å¹´1æœˆ1æ—¥0æ—¶0åˆ†0ç§’åˆ°xâ€™xâ€™xâ€™å¹´yâ€™yâ€™yâ€™æœˆzâ€™zâ€™zâ€™æ—¥aâ€™aâ€™aâ€™æ—¶bâ€™bâ€™bâ€™åˆ†câ€²c&#x27;câ€²ç§’ä¸€å…±æ¶ˆè€—äº†å¤šå°‘å•ä½çš„ç”µä¸ºBBB ans=Bâˆ’A ans=B-A ans=Bâˆ’A æ¯”æœ¬è’Ÿè’»è¿‘300è¡Œå¯¹é”™æœªçŸ¥çš„åšæ³•å¥½å¤šäº† T4 æœºå™¨äºº æ­£è§£æ˜¯è¿ªæ°æ–¯ç‰¹æ‹‰æœ€çŸ­è·¯ï¼Œè’Ÿè’»æ²¡å¬æ‡‚ è’Ÿè’»åˆ©ç”¨ä¸€ä¸ªä¸‰ç»´DPå¾—åˆ°äº†å¤§æ¦‚50åˆ†ï¼ˆæˆç»©æ²¡å‡ºï¼‰ ","tags":[{"index":-1,"name":"æ¯”èµ›æ¸¸è®°","slug":"BigContest","used":true,"link":"https://Deng-Duck.github.io/tag/BigContest/"},{"index":-1,"name":"æ¯”èµ›æ€»ç»“","slug":"Contest","used":true,"link":"https://Deng-Duck.github.io/tag/Contest/"}],"title":"2022å¹¿ä¸œçœé€‰æ™®åŠç»„æ²¡çš„æ¸¸è®°","feature":"https://s1.imagehub.cc/images/2022/08/20/imagec3de7949660faad3.png","link":"https://Deng-Duck.github.io/post/2022-guang-dong-sheng-xuan-pu-ji-zu-mei-de-you-ji/","stats":{"text":"9 min read","time":497000,"words":1929,"minutes":9},"date":"2022-04-19 12:33:42","dateFormat":"2022-04-19"},{"content":"è¿™é“é¢˜å¾ˆæœ‰æ„æ€ï¼Œè¿ç”¨åº”ç”¨äº†çƒåŒç›’å¼‚å¯ä¸ºç©ºæ¨¡å‹ è€Œä¸”è¿˜å¥—äº†ä¸€å±‚å®¹æ–¥åŸç†ï¼Œä¸å¥½æƒ³ é¢˜é¢æè¿° JYY å¸¦é˜Ÿå‚åŠ äº†è‹¥å¹²åœºACM/ICPC æ¯”èµ›ï¼Œå¸¦å›äº†è®¸å¤šåœŸç‰¹äº§ï¼Œè¦åˆ†ç»™å®éªŒå®¤çš„åŒå­¦ä»¬ã€‚ JYY æƒ³çŸ¥é“ï¼ŒæŠŠè¿™äº›ç‰¹äº§åˆ†ç»™N ä¸ªåŒå­¦ï¼Œä¸€å…±æœ‰å¤šå°‘ç§ä¸åŒçš„åˆ†æ³•ï¼Ÿ å½“ç„¶ï¼ŒJYY ä¸å¸Œæœ›ä»»ä½•ä¸€ä¸ªåŒå­¦å› ä¸ºæ²¡æœ‰æ‹¿åˆ°ç‰¹äº§è€Œæ„Ÿåˆ°å¤±è½ï¼Œæ‰€ä»¥æ¯ä¸ªåŒå­¦éƒ½å¿…é¡»è‡³å°‘åˆ†å¾—ä¸€ä¸ªç‰¹äº§ã€‚ ä¾‹å¦‚ï¼ŒJYY å¸¦æ¥äº†2 è¢‹éº»èŠ±å’Œ1 è¢‹åŒ…å­ï¼Œåˆ†ç»™A å’ŒB ä¸¤ä½åŒå­¦ï¼Œé‚£ä¹ˆå…±æœ‰4 ç§ä¸åŒçš„ åˆ†é…æ–¹æ³•ï¼š Aï¼šéº»èŠ±ï¼ŒBï¼šéº»èŠ±ã€åŒ…å­ Aï¼šéº»èŠ±ã€éº»èŠ±ï¼ŒBï¼šåŒ…å­ Aï¼šåŒ…å­ï¼ŒBï¼šéº»èŠ±ã€éº»èŠ± Aï¼šéº»èŠ±ã€åŒ…å­ï¼ŒBï¼šéº»èŠ± çƒåŒç›’å¼‚å¯ä¸ºç©ºæ¨¡å‹ è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒç»å…¸çš„æ¨¡å‹äº†ï¼Œè§£æ³•éå¸¸å·§å¦™ï¼Œä¹Ÿå°±æ˜¯å¤§åé¼é¼çš„ Cn+mâˆ’1mâˆ’1C_{n+m-1}^{m-1} Cn+mâˆ’1mâˆ’1â€‹ çŸ¥é“çš„å¤§ä½¬å¯ä»¥è·³è¿‡äº†ï¼Œç°åœ¨ç®€å•è®²ä¸€ä¸‹ å› ä¸ºçƒåŒï¼Œæ‰€ä»¥ä½¿ç”¨æ’æ¿æ³•ï¼Œä½†æ˜¯ç›’åˆå¯ä»¥ç©ºï¼Œä¸¤ä¸ªæ¿æ€»è¦æœ‰ä»€ä¹ˆéš”ç€ï¼Œæ‰€ä»¥ç°åœ¨æ¯ä¸ªç›’å­æ”¾ä¸€ä¸ªçƒ çƒåŒç›’å¼‚ä¸å¯ä¸ºç©ºçš„æ’æ¿å…¬å¼ä¸º Cnâˆ’1mâˆ’1C_{n-1}^{m-1} Cnâˆ’1mâˆ’1â€‹ åœ¨ç®±å­æ”¾äº†mmmä¸ªçƒï¼Œæ‰€ä»¥æ˜¯ Cn+mâˆ’1mâˆ’1C_{n+m-1}^{m-1} Cn+mâˆ’1mâˆ’1â€‹ æœ¬é¢˜æ€è·¯ å› ä¸ºæœ¬é¢˜çƒæœ‰åŒæœ‰å¼‚,æ‰€ä»¥æ²¡æœ‰å…¬å¼å¯ä»¥å¥—ï¼Œä½†å¦‚æœå°†å¼ºåˆ¶xxxäººæ— æ³•é€‰æ‹©å˜æˆè‡³å°‘xxxäººï¼Œå°±ç›¸å¯¹ç®€å•äº† é‚£å¥½,è‡³å°‘xxxäºº,å¦‚ä½•æ±‚è§£ï¼Ÿ é¦–å…ˆï¼Œå°†è¿™xxxäººçš„ç»„åˆå¯èƒ½æ±‚å‡ºæ¥ï¼š CnxC_n^x Cnxâ€‹ å¯¹äºæ¯ç§ç‰¹äº§çš„åˆ†é…ï¼Œéƒ½æ˜¯çƒåŒç›’å¼‚å¯ä¸ºç©ºæ¨¡å‹ï¼Œæ‰€ä»¥æ˜¯ Î i=1mCai+nâˆ’xâˆ’1nâˆ’xâˆ’1\\Pi_{i=1}^{m}C_{a_i+n-x-1}^{n-x-1} Î i=1mâ€‹Caiâ€‹+nâˆ’xâˆ’1nâˆ’xâˆ’1â€‹ æ‰€ä»¥å¯¹äºè‡³å°‘xxxäººæ— æ³•é€‰æ‹© ans=Î i=1mCai+nâˆ’xâˆ’1nâˆ’xâˆ’1ans=\\Pi_{i=1}^{m}C_{a_i+n-x-1}^{n-x-1} ans=Î i=1mâ€‹Caiâ€‹+nâˆ’xâˆ’1nâˆ’xâˆ’1â€‹ è®¾è‡³å°‘xxxäººæ— æ³•é€‰æ‹©çš„æ–¹æ¡ˆæ•°ä¸ºfxf_xfxâ€‹,å¦‚ä½•æ±‚å¼ºåˆ¶xxxäººæ— æ³•é€‰æ‹©ï¼Ÿ æ ¹æ®å®¹æ–¥åŸç†ï¼Œå¾— ans=f0âˆ’f1+f2.....ans=f_0-f_1+f_2..... ans=f0â€‹âˆ’f1â€‹+f2â€‹..... ans=âˆ‘i=0n(âˆ’1)nfians=\\sum_{i=0}^{n}{(-1)}^nf_i ans=i=0âˆ‘nâ€‹(âˆ’1)nfiâ€‹ End P.S.ï¼šæ•°æ®å¾ˆæ°´ï¼Œç»„åˆæ•°è¯·ä½¿ç”¨æ¨è¾‰ä¸‰è§’ ","tags":[{"index":-1,"name":"é¢˜ç›®è§£æ³•","slug":"Answer","used":true,"link":"https://Deng-Duck.github.io/tag/Answer/"}],"title":"JSOI2011åˆ†ç‰¹äº§é¢˜è§£","feature":"https://s1.imagehub.cc/images/2022/08/20/22055166a847a1a942021103d5579313.jpg","link":"https://Deng-Duck.github.io/post/jsoi2011-fen-te-chan-ti-jie/","stats":{"text":"3 min read","time":147000,"words":601,"minutes":3},"date":"2022-04-14 08:48:24","dateFormat":"2022-04-14"},{"content":"NOI ONLINEä¹‹å‰ä¸´æ—¶æŠ±ä½›è„š å¥½è€¶ï¼æ´›è°·è´¦å·æ©™äº†ï¼ æ°´é¢˜ [NOI Online #2 å…¥é—¨ç»„] æœªäº† è¿™å°±æ˜¯ä¸€é“è´ªå¿ƒ+äºŒåˆ†æŸ¥æ‰¾,æ€è·¯å¾ˆå¥½æƒ³ é™¤æ³•æœ‰ç²¾åº¦é—®é¢˜ï¼Œå»ºè®®ä¸ä½¿ç”¨é™¤æ³• code [NOI Online #3 æé«˜ç»„] æ°´å£¶ ä¸éš¾å‘ç°æœ€ä¼˜è§£ä¸€å®šæ˜¯ä¸€ä¸ªm+1m+1m+1å¤§çš„åŒºé—´ï¼Œé—®é¢˜å˜æˆé™æ€åŒºé—´å’Œ è½»è½»æ¾æ¾O(n)O(n)O(n)è§£å†³ code [NOI Online #3 å…¥é—¨ç»„] æœ€æ€¥æ•‘åŠ© å­—ç¬¦ä¸²æ°´é¢˜ï¼Œç›´æ¥ä¸€ä¸ªä¸€ä¸ªå­—ç¬¦çœ‹ï¼ˆé¡ºä¾¿çœ‹åä¸¤ä¸ªï¼‰ æ¨¡æ‹Ÿçš„æ—¶é—´å¤æ‚åº¦åªæœ‰O(n)O(n)O(n) å…¶å®å¯ä»¥åŠ å¼ºæˆKMPçš„é¢˜ code [NOI Online #1 å…¥é—¨ç»„] æ–‡å…·è®¢è´­ é¦–æ¬¡æäº¤åªæœ‰85ï¼Œè¿™ä¸ªæ°´é¢˜ç«Ÿç„¶æœ‰å‘ï¼Œå¥‡è€»å¤§è¾±ï¼ é¦–å…ˆåº”è¯¥æšä¸¾ä»€ä¹ˆï¼Ÿå¥—æ•°ï¼Œ3å…ƒï¼Œå’Œ4å…ƒï¼Œä¸ºä»€ä¹ˆï¼Ÿæšä¸¾å¥—æ•°å¿«ï¼Œç„¶åä¸ºäº†ä¹°çš„æ›´å¤šï¼Œå…ˆæšä¸¾3å…ƒçš„ ç„¶åå€’ç€æšä¸¾ï¼Œè¿™æ ·ç¬¬ä¸€æ¬¡æ±‚å‡ºçš„å°±æ˜¯æœ€ä¼˜è§£ code [NOI Online #3 å…¥é—¨ç»„] è§‚æ˜Ÿ å…ˆæ•´ç†æ˜Ÿåº§ï¼Œç„¶åç”¨ä¸€ä¸ªæ¡¶ï¼ˆå»ºè®®åŠ ä¸€ä¸ªsetï¼‰å­˜å‚¨ï¼Œæœ€åæ•´ç†æ˜Ÿç³»ï¼Œè¾“å‡º å°±æ˜¯ä¸€é“dfs+æ¨¡æ‹Ÿï¼Œå…¶å®æœ¬è´¨æ˜¯ä¸€é“æ™®åŠé¢˜åŠ ä¸Šä¸€ä¸ªæ™®åŠé¢˜ï¼ˆä¸¤ä¸ªéƒ¨åˆ†ï¼‰ï¼Œä½†æ˜¯ç»†èŠ‚å¾ˆæ¶å¿ƒ,å®¹æ˜“æ‰“é”™ ï¼ˆxuxiaobinä¹Ÿè¿™ä¹ˆè®¤ä¸ºï¼‰ code è¾ƒéš¾é¢˜ [NOI Online 2021 å…¥é—¨ç»„] åˆ‡è›‹ç³• NOI Online 2021 å…¥é—¨ç»„æˆ‘å…¶å®å‚åŠ äº†ï¼Œä½†æ˜¯é‚£æ—¶æˆ‘è¿˜æ˜¯ä¸ªè’Ÿè’»ï¼ˆç°åœ¨ä¹Ÿæ˜¯ï¼‰ å½“æ—¶æ˜¯æ‹¿äº†100åˆ†ï¼Œä¹Ÿå°±æ˜¯åªAcceptedäº†æœ¬é¢˜ æœ¬é¢˜æ˜¯ä¸€é“åˆ†ç±»è®¨è®ºï¼Œæœ‰ä¸€å®šæ€ç»´éš¾åº¦ï¼Œä¸€ä¸ªä¸€ä¸ªæƒ…å†µæ‰¾å°±å¯¹äº† code [NOI Online #3 å…¥é—¨ç»„] ä¹°è¡¨ è¯»å®Œé¢˜å¾ˆå®¹æ˜“å‘ç°æ˜¯å¤šé‡èƒŒåŒ… è€ƒè™‘åˆ° kik_ikiâ€‹ å¾ˆå¤§ï¼Œè¦ç”¨äºŒè¿›åˆ¶ä¼˜åŒ– å°±å½“å¤ä¹ äº† code [NOI Online #2 æé«˜ç»„] æ¶‚è‰²æ¸¸æˆ ä¸€é“æ•°å­¦é¢˜ï¼Œä¸€å¼€å§‹æ²¡ç®¡äº’è´¨åªæœ‰40åˆ†ï¼Œåæ¥é‡æ¨+å¡å¸¸æ‰Accepted code å˜æ€é¢˜ [NOI Online #1 å…¥é—¨ç»„] é­”æ³• è¿™æ˜¯å…¥é—¨ç»„çš„é¢˜ï¼Ÿï¼ï¼ ä¸€å¼€å§‹æ‰“äº†ä¸€ä¸ªå˜å½¢SPFAï¼Œä½†æ˜¯æ— æ³•ä¿å­˜é­”æ³•ï¼Œåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œåªæ‹¿åˆ°50åˆ† æ­£è§£æ˜¯çŸ©é˜µå¿«é€Ÿå¹‚ä¼˜åŒ–åŠ¨æ€è§„åˆ’ï¼Œæˆ‘ç›´æ¥æ”¾å¼ƒï¼Œä¸åšäº† 50pts code ","tags":[{"index":-1,"name":"é¢˜ç›®è§£æ³•","slug":"Answer","used":true,"link":"https://Deng-Duck.github.io/tag/Answer/"}],"title":"éšä¾¿åšåšNOI ONLINE","feature":"https://s1.imagehub.cc/images/2022/08/20/a8db92b1793a9bab71a4cf7b58703060.jpg","link":"https://Deng-Duck.github.io/post/sui-bian-zuo-zuo-noi-online/","stats":{"text":"3 min read","time":124000,"words":558,"minutes":3},"date":"2022-03-29 08:41:34","dateFormat":"2022-03-29"},{"content":"åˆä¸€ç¬¬ä¸€ ä¸€èˆ¬ï¼Œæœ€åä¸€é¢˜æ²¡æ‰“å¥½ ä¸éš¾å‘ç°ï¼Œæ•™ç»ƒå‡ºæ°´äº†ï¼Œå¯èƒ½æ˜¯ä¿¡å¿ƒèµ› A.ä¸å¹¸çš„7 æš´åŠ›ï¼Œæ²¡æœ‰é€»è¾‘å¯è¨€ #include&lt;bits/stdc++.h&gt; using namespace std; int n,ans,t,k; bool pd(int x) { while(x) { if(x%10==7)return false; x/=10; } return true; } int main() { cin&gt;&gt;n; for(int i=1;i&lt;=n;i++) { k=i,t=0; while(k) { t*=10; t+=k%8; k/=8; } if(pd(i)&amp;&amp;pd(t))ans++; } cout&lt;&lt;ans; } ä¸€äº›æ²¡ç”¨çš„æ„Ÿæƒ³ ä¸éš¾å‘ç°å¯ä»¥ä¼˜åŒ–ï¼Œå®Œå…¨ä¸éœ€è¦å­˜ä¸‹å…«è¿›åˆ¶ æœ¬é¢˜è€ƒå¯Ÿè¿›åˆ¶è½¬æ¢ï¼Œä¸ACå°±è¯¥åæ€ B.é€‰ä¸¾ ç®€å•çš„è´ªå¿ƒï¼Œæ€è·¯å¾ˆæ°´ï¼Œäº”åˆ†é’Ÿæƒ³å‡ºæ¥ å…ˆå›ºå®šAï¼Œé—®é¢˜å˜æˆè®©Bè¿½ä¸ŠA Aå’ŒBçš„åˆå§‹çš„è·ç¦»æ˜¯ä»€ä¹ˆï¼Ÿ sumA=âˆ‘i=1naisumA=\\sum_{i=1}^{n}a_i sumA=i=1âˆ‘nâ€‹aiâ€‹ å¦‚æœBä»€ä¹ˆéƒ½ä¸åšï¼ŒAå¯ä»¥è·å¾—æ‰€æœ‰Aæ”¯æŒè€…çš„é€‰ç¥¨ é‚£ä¸€ä¸ªåŸå¸‚èƒ½ç¼©å°å¤šå°‘è·ç¦»å‘¢ wi=bi+2aiw_i=b_i+2a_i wiâ€‹=biâ€‹+2aiâ€‹ é¦–å…ˆï¼Œå»ä¸€ä¸ªåŸå¸‚ï¼ŒBçš„æ”¯æŒè€…å’ŒAçš„æ”¯æŒè€…éƒ½æ”¯æŒBï¼Œå°±æ˜¯bi+aib_i+a_ibiâ€‹+aiâ€‹, Aå°‘äº†aia_iaiâ€‹ä¸ªæ”¯æŒè€…ï¼Œä¹ŸåŠ ä¸Šå»ï¼Œå°±è¿™æ · #include&lt;bits/stdc++.h&gt; using namespace std; struct node { long long a,b; }a[1000005]; long long n,suma,k; bool cmp(node x,node y) { return x.a*2+x.b&gt;y.a*2+y.b; } int main() { cin&gt;&gt;n; for(int i=1;i&lt;=n;i++) { scanf(&quot;%lld%lld&quot;,&amp;a[i].a,&amp;a[i].b); suma+=a[i].a; } sort(a+1,a+n+1,cmp); while(suma&gt;=0) { k++; suma-=a[k].a*2+a[k].b; } cout&lt;&lt;k; } å…³äºçœŸå®çš„é¢˜ç›® å…¶å®æ²¡ä»€ä¹ˆ çœŸçš„ å¼€long long!,scanf! C. å·®çš„ç»å¯¹å€¼ä¹‹å’Œ è¿™é“é¢˜æ°´ç‚¸äº†ï¼Œå¥½å¥½æƒ³ï¼Œå¾ˆæœ‰æ„æ€ï¼Œä¸è¦ç›´æ¥çœ‹é¢˜è§£ï¼ é¢˜è§£ å…ˆæ’åºï¼ŒæŒ‰ç»å¯¹å€¼çš„æ€§è´¨ï¼Œä»å¤§è¾¹ç´¯åŠ è¾¹ç®—ï¼Œçœ‹çœ‹ä»£ç å§ #include &lt;bits/stdc++.h&gt; using namespace std; long long n, a[1000005], sum, ans; int main() { cin &gt;&gt; n; for (int i = 1; i &lt;= n; i++) { cin &gt;&gt; a[i]; } sort(a + 1, a + n + 1); sum = a[n]; for (int i = n - 1; i &gt;= 1; i--) { ans += sum - a[i] * (n - i); sum += a[i]; } cout &lt;&lt; ans; } æœ‰ä¸€ä¸ªæ˜“é”™ç‚¹ï¼Œans += sum - a[i] * (n - i);ä¸è¦æ‰“æˆans += sum - a[i] ;ï¼Œ è¿™ä¸ªæ•°è¦å’Œå‰é¢æ‰€æœ‰æ•°è®¡ç®— D. è·¯å¾„é€šè¿‡ æ•´ä½“æ“ä½œï¼Œå…ˆæ˜ç¡®çˆ¶å­å…³ç³»ï¼Œç„¶åå¯¹äºæ¯ä¸ªæ“ä½œï¼Œç†è§£ä¸ºå¯¹æ•´ä¸ªæ ‘å’Œå­æ ‘çš„æ“ä½œï¼Œ æœ€åçš„dfsç»Ÿè®¡å³å¯ #include&lt;bits/stdc++.h&gt; using namespace std; struct node { int t,next; }a[500005]; long long n,m,x,y,z,tot,h[500005],fa[500005],s[500005],t[500005],w[500005],ans[500005]; void add(int x,int y) { tot++; a[tot].t=y; a[tot].next=h[x]; h[x]=tot; } void dfa(int x,int f) { for(int i=h[x];i;i=a[i].next) { if(a[i].t!=f) { fa[a[i].t]=x; dfa(a[i].t,x); } } } void dfs(int x,int f) { ans[x]=ans[f]+w[x]; for(int i=h[x];i;i=a[i].next) { if(a[i].t!=f) { dfs(a[i].t,x); } } } int main() { cin&gt;&gt;n; for(int i=1;i&lt;=n-1;i++) { cin&gt;&gt;x&gt;&gt;y; add(x,y); add(y,x); s[i]=x; t[i]=y; } dfa(1,0); cin&gt;&gt;m; for(int i=1;i&lt;=m;i++) { cin&gt;&gt;x&gt;&gt;y&gt;&gt;z; if(x==1) { if(fa[t[y]]==s[y]) { w[1]+=z; w[t[y]]-=z; } else { w[s[y]]+=z; } } else { if(fa[t[y]]==s[y]) { w[t[y]]+=z; } else { w[1]+=z; w[s[y]]-=z; } } } dfs(1,0); for(int i=1;i&lt;=n;i++) { cout&lt;&lt;ans[i]&lt;&lt;endl; } } å¦ä¸€ç§åšæ³• æŒ‰dfsåºï¼Œå˜æˆä¸€ä¸ªæ•°ç»„ï¼Œç„¶åæ ‘çŠ¶æ•°ç»„æ•´ä½“æ“ä½œ E. é¾™æ¤… è¿™å°±æ˜¯ä¸ªExgcdï¼Œæˆ‘æ‰“å‡ºæ¥çœŸæ˜¯ä¸‡å¹¸ï¼Œå°±æ˜¯æ‰¾æ­£æ•´æ•°è§£é‚£æ®µå¿˜äº†ï¼Œè‡ªå·±çš„åˆè‡­åˆé•¿ s+1+xkâ‰¡1(mod n) s+1+xk \\equiv 1(mod\\ n) s+1+xkâ‰¡1(mod n) xä¸ºé¢˜ç›®æ‰€æ±‚ åŒ–ç®€å¾— xkâˆ’yn=âˆ’sxk-yn=-s xkâˆ’yn=âˆ’s æ±‚å³å¯ #include&lt;bits/stdc++.h&gt; using namespace std; long long t,a,b,c,x,y,gcd; void exgcd(long long a,long long b,long long &amp;x,long long &amp;y) { if(!b) { // cout&lt;&lt;a&lt;&lt;' '&lt;&lt;b&lt;&lt;endl; gcd=a; x=1; y=0; return; } exgcd(b,a%b,y,x); //cout&lt;&lt;a&lt;&lt;' '&lt;&lt;b&lt;&lt;' '&lt;&lt;x&lt;&lt;' '&lt;&lt;y&lt;&lt;endl; y-=((a/b)*x); } int main() { cin&gt;&gt;t; for(int i=1;i&lt;=t;i++) { cin&gt;&gt;b&gt;&gt;c&gt;&gt;a; x=0,y=0; exgcd(a,-b,x,y); if((-c)%gcd!=0) { cout&lt;&lt;-1&lt;&lt;endl; continue; } x*=-c/gcd; y*=-c/gcd; if((a*-b)/gcd&gt;0) { y-=(a*-b)/gcd/b*(x/(a*-b)/gcd/a); x%=(a*-b)/gcd/a; while(x&lt;0) { x+=(a*-b)/gcd/a; y-=(a*-b)/gcd/b; } y+=(a*-b)/gcd/b*(x/(a*-b)/gcd/a); x%=(a*-b)/gcd/a; while(x-((a*-b)/gcd)/a&gt;=0) { x-=(a*-b)/gcd/a; y+=(a*-b)/gcd/b; } } else { y+=(a*-b)/gcd/b*(x/(a*-b)/gcd/a); x%=(a*-b)/gcd/a; while(x&lt;0) { x-=(a*-b)/gcd/a; y+=(a*-b)/gcd/b; } y-=(a*-b)/gcd/b*(x/(a*-b)/gcd/a); x%=(a*-b)/gcd/a; while(x+((a*-b)/gcd)/a&gt;=0) { x+=(a*-b)/gcd/a; y-=(a*-b)/gcd/b; } } cout&lt;&lt;x&lt;&lt;endl; } } ç¬¬å…­é¢˜å¾…åš ","tags":[{"index":-1,"name":"æ¯”èµ›æ€»ç»“","slug":"Contest","used":true,"link":"https://Deng-Duck.github.io/tag/Contest/"}],"title":"2022å¹´3æœˆ3æ—¥æ¨¡æ‹Ÿèµ›æ€»ç»“","feature":"https://s1.imagehub.cc/images/2022/08/20/2233.jpg","link":"https://Deng-Duck.github.io/post/20220303/","stats":{"text":"7 min read","time":385000,"words":1207,"minutes":7},"date":"2022-03-03 08:09:06","dateFormat":"2022-03-03"},{"content":"å…¶å®è¿™é“é¢˜ä¸éš¾ï¼Œä½œè€…å‡ºæˆäº†å°æ¨¡æ‹Ÿ è¾“å…¥ä¹Ÿå¯ä»¥åˆ©ç”¨sscanfè§£å†³ é¢˜ç›®é“¾æ¥ é¢˜ç›®åˆ†æ mapä¸ä¼šå†²çªï¼ï¼ä¸ä¸€å®šè¦likeä»£ç ä¸­é‚£æ ·åŠ -å·ï¼ æ¨¡æ‹Ÿï¼Œç®—ä¸ä¸Šå¤§, é¦–å…ˆï¼Œæˆ‘ä»¬æƒ³æƒ³æ•´ä¸ªæµç¨‹: ç°åœ¨ï¼Œæˆ‘ä»¬æ‰¾å‡ºéš¾ç‚¹ï¼Œé€ä¸ªç“¦è§£: è¯»å…¥æå–æ•° MIDDLE éæ³•æƒ…å†µåˆ¤æ–­ HARD æ˜¯å¦é‡å¤ EASY ä»ç®€åˆ°éš¾è§£å†³ã€‚ æ˜¯å¦é‡å¤ é¦–å…ˆï¼Œå°†5ä¸ªæ•°å­—æŒ‰æ¬¡åºç»„åˆæˆä¸€ä¸ªå¤§æ•°ï¼Œ æœ¬äººæµ‹è¯•ï¼š25525525525565535æ˜¯long longå­˜çš„ä¸‹çš„ï¼Œ ç„¶åmapæå®šã€‚ å°±è§£å†³äº†ï¼Œå‚è€ƒä»£ç ï¼š long long sum=0; sum+=a; sum*=1000; sum+=b; sum*=1000; sum+=c; sum*=1000; sum+=d; sum*=100000; sum+=e;//è½¬æ¢ if(s==&quot;Server&quot;) { if(m[-sum]) { cout&lt;&lt;&quot;FAIL&quot;&lt;&lt;endl; continue; } m[-sum]=T;//è®°å½•è¿™ä¸ªæœåŠ¡æœºçš„ç¼–å·ï¼Œåè¾¹å®¢æˆ·æœºè¦ç”¨ cout&lt;&lt;&quot;OK&quot;&lt;&lt;endl; } else { if(!m[-sum]) { cout&lt;&lt;&quot;FAIL&quot;&lt;&lt;endl; continue; } cout&lt;&lt;m[-sum]&lt;&lt;endl;//è¾“å‡ºæœåŠ¡æœºçš„ç¼–å· } è¯»å…¥æå–æ•° æ€ä¹ˆæå–æ•°å­—å‘¢? å…¶å®ä¹Ÿä¸éš¾, scanfæ”¯æŒæ ¼å¼è¾“å…¥, å¦‚ scanf(&quot;%d.%d.%d.%d:%d&quot;,&amp;a,&amp;b,&amp;c,&amp;d,&amp;e) è¾“å…¥ 1.1.1.1:1 a=1,b=1,c=1,d=1,e=1a=1,b=1,c=1,d=1,e=1a=1,b=1,c=1,d=1,e=1 å¦‚æœä¸æŒ‰æ ¼å¼ï¼Ÿ 1:1:1:1.1 a=1,b=0,c=0,d=0,e=0a=1,b=0,c=0,d=0,e=0a=1,b=0,c=0,d=0,e=0 What?ä¸æŒ‰æ ¼å¼çš„éƒ¨åˆ†å€¼æ²¡æœ‰å˜åŒ–ï¼Ÿ é—®é¢˜ä¸‰æœ‰å¤´ç»ªäº†å‘¢.... éæ³•æƒ…å†µåˆ¤æ–­ é€šè¿‡å¦‚ä¸Šæ–¹æ¡ˆï¼Œæˆ‘ä»¬å°†äº”ä¸ªæ•°åˆå§‹åŒ–ä¸º-1, å¦‚æœæ ¼å¼è¾“å…¥åæœ‰-1ï¼Œé‚£æ ¼å¼æœ‰è¯¯ï¼Œéæ³•ã€‚ å‚è€ƒä»£ç ï¼š a=-1,b=-1,c=-1,d=-1,e=-1; cin&gt;&gt;s; scanf(&quot;%d.%d.%d.%d:%d&quot;,&amp;a,&amp;b,&amp;c,&amp;d,&amp;e); if(a==-1||b==-1||c==-1||d==-1||e==-1) { cout&lt;&lt;&quot;ERR&quot;&lt;&lt;endl; continue; } åŒæ ·çš„ï¼Œåˆ¤æ–­æ•°å­—æ˜¯å¦è¶…å‡ºèŒƒå›´ï¼š if(a&gt;255||b&gt;255||c&gt;255||d&gt;255||e&gt;65535) { cout&lt;&lt;&quot;ERR&quot;&lt;&lt;endl; continue; } ä½ å¯èƒ½ä¼šé—®ï¼Œå¦‚æœè¾“å…¥äº†ä¸€ä¸ªå·¨å¤§çš„æ•°ï¼Œ long longæº¢å‡ºï¼Œæ€ä¹ˆåŠï¼Ÿ åˆ«æ€¥ï¼Œæˆ‘ä»¬å¾€ä¸‹çœ‹ã€‚ å‰å¯¼é›¶é—®é¢˜å¦‚ä½•è§£å†³ï¼Ÿï¼Ÿ æˆ‘ä»¬æƒ³æƒ³ï¼Œå› ä¸ºå‰å¯¼é›¶è¢«å˜é‡â€œåƒâ€äº†ï¼Œ ç°åœ¨çš„å­—ç¬¦ä¸²ä¸€å®šæ¯”ä¹‹å‰çš„å­—ç¬¦ä¸²çŸ­ï¼Œ æˆ‘ä»¬åˆ¤æ–­å³å¯ã€‚ æ€ä¹ˆå­˜ä¸‹ä¹‹å‰çš„å­—ç¬¦ä¸²ï¼Ÿ ä½¿ç”¨sscanf sscanfä¸åŒäºscanf,å®ƒéœ€è¦å¤šä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•° ç›¸å½“äºç”¨scanfå°†å­—ç¬¦ä¸²å†…å®¹è¯»äº†ä¸€éï¼Œ è¯»å…¥æ•ˆæœä¸scanfä¸€æ · è¿™æ ·ï¼Œæˆ‘ä»¬å…ˆè¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œ ç„¶åsscanfè¯»å…¥ï¼Œ è¿™æ ·ä¸¤ä¸ªç»“æœéƒ½å­˜äº†ä¸‹æ¥ï¼Œ é±¼å’Œç†ŠæŒçš„å…¼å¾—ã€‚ a=-1,b=-1,c=-1,d=-1,e=-1; cin&gt;&gt;s; cin&gt;&gt;cc;//sscanfçš„å¦™ç”¨ sscanf(cc,&quot;%d.%d.%d.%d:%d&quot;,&amp;a,&amp;b,&amp;c,&amp;d,&amp;e); if(a==-1||b==-1||c==-1||d==-1||e==-1) { cout&lt;&lt;&quot;ERR&quot;&lt;&lt;endl; continue; } if(a&gt;255||b&gt;255||c&gt;255||d&gt;255||e&gt;65535) { cout&lt;&lt;&quot;ERR&quot;&lt;&lt;endl; continue; } if(len(a)+len(b)+len(c)+len(d)+len(e)+4!=strlen(cc)) {//lenæ˜¯ä¸€ä¸ªåˆ¤æ–­æ•°å­—é•¿åº¦çš„è‡ªå®šä¹‰å‡½æ•° //+4æ˜¯å››ä¸ªæ ‡ç‚¹ç¬¦å· cout&lt;&lt;&quot;ERR&quot;&lt;&lt;endl; continue; } å…¶å®ï¼Œéæ³•æƒ…å†µå°±éƒ½å¯ä»¥åˆ¤èµ°äº†ï¼Œ å› ä¸º å‰å¯¼é›¶ã€æ•´æ•°è¶…å‡ºã€æ ¼å¼é”™è¯¯è¢«åˆ¤æ‰ã€‚ å¤šä¸ªæ•°å­—æ˜¾ç„¶é•¿åº¦ä¸ç­‰ã€‚ long long æº¢å‡ºï¼Œé•¿åº¦å˜å°äº†ã€‚ å¥½äº†ï¼Œè¿™é“é¢˜å…¶å®ä¸éš¾ï¼Œé‡ç‚¹åœ¨å‡½æ•°ä½¿ç”¨çš„åŸºæœ¬åŠŸã€‚ å‚è€ƒä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; map&lt;long long,int&gt; m; int n,a,b,c,d,e; string s,s2; char cc[105]; int len(int x) { if(x==0)return 1; int ans=0; while(x) { ans++; x/=10; } return ans; } int main() { cin&gt;&gt;n; for(int T=1;T&lt;=n;T++) { a=-1,b=-1,c=-1,d=-1,e=-1; cin&gt;&gt;s; cin&gt;&gt;cc; sscanf(cc,&quot;%d.%d.%d.%d:%d&quot;,&amp;a,&amp;b,&amp;c,&amp;d,&amp;e); if(a==-1||b==-1||c==-1||d==-1||e==-1) { cout&lt;&lt;&quot;ERR&quot;&lt;&lt;endl; continue; } if(a&gt;255||b&gt;255||c&gt;255||d&gt;255||e&gt;65535) { cout&lt;&lt;&quot;ERR&quot;&lt;&lt;endl; continue; } if(len(a)+len(b)+len(c)+len(d)+len(e)+4!=strlen(cc)) { cout&lt;&lt;&quot;ERR&quot;&lt;&lt;endl; continue; } long long sum=0; sum+=a; sum*=1000; sum+=b; sum*=1000; sum+=c; sum*=1000; sum+=d; sum*=100000; sum+=e; if(s==&quot;Server&quot;) { if(m[-sum]) { cout&lt;&lt;&quot;FAIL&quot;&lt;&lt;endl; continue; } m[-sum]=T; cout&lt;&lt;&quot;OK&quot;&lt;&lt;endl; } else { if(!m[-sum]) { cout&lt;&lt;&quot;FAIL&quot;&lt;&lt;endl; continue; } cout&lt;&lt;m[-sum]&lt;&lt;endl; } } } ","tags":[{"index":-1,"name":"é¢˜ç›®è§£æ³•","slug":"Answer","used":true,"link":"https://Deng-Duck.github.io/tag/Answer/"}],"title":"2021CSP-Jç½‘ç»œè¿æ¥é¢˜è§£","feature":"https://s1.imagehub.cc/images/2022/08/20/0dd9b72e672c3b4b3886ef8f8dd027e7.jpg","link":"https://Deng-Duck.github.io/post/2021csp-j-wang-luo-lian-jie-ti-jie/","stats":{"text":"6 min read","time":334000,"words":1134,"minutes":6},"date":"2021-11-18 21:15:09","dateFormat":"2021-11-18"},{"content":"è¿™æ¬¡è€ƒçš„æ˜¯æ€ç»´é¢˜,åªåšå‡ºäº†é›¨æ°´ æ€ç»´ä¸å¤Ÿæ•æ·ï¼Œè¦ç»ƒ ç¬¬ä¸€é¢˜ï¼š0 ç¬¬äºŒé¢˜ï¼š31ï¼ˆæœ€é«˜åˆ†56ï¼‰ ç¬¬ä¸‰é¢˜ï¼š100 ç¬¬å››é¢˜ï¼š5 æ€»åˆ†ï¼š136 æ’åï¼š19 èµ›åAK å‡‘æ•°2526 é¢˜ä¹‰ï¼š ä¸€ä¸ªé•¿åº¦ä¸ºn+m+kn+m+kn+m+kï¼ŒåŒ…å«nnnä¸ªæ•°å­—222ï¼Œmmmä¸ªæ•°å­—555å’Œkkkä¸ªæ•°å­—666çš„åºåˆ—ï¼Œæœ€å¤šå¯èƒ½æœ‰å¤šå°‘ä¸ªå­åºåˆ—æ˜¯252625262526ï¼Ÿ å¦‚æœä¸€ä¸ªåºåˆ—æ˜¯æ•°ç»„çš„å­åºåˆ—ï¼Œå½“ä¸”ä»…å½“è¿™ä¸ªåºåˆ—å¯ä»¥ç”±æ•°ç»„åˆ å»ä»»æ„ä¸ªå…ƒç´ ï¼Œå†å°†æ•°ç»„ä¸­çš„å‰©ä½™å…ƒç´ æŒ‰é¡ºåºæ’åˆ—è€Œæˆã€‚ æ¨å¯¼ï¼š æ€ç»´é¢˜ï¼Œè‹¥æƒ³æœ€å¤§ï¼Œè¦å‡åˆ†nnnï¼Œn/2n/2n/2å’Œaâˆ’n/2a-n/2aâˆ’n/2 æ¯”èµ›æ—¶æƒ³æˆæ’åˆ—ç»„åˆäº†ï¼ŒZero ä»£ç ï¼š #include&lt;bits/stdc++.h&gt; using namespace std; int main() { long long t,a,b,c; scanf(&quot;%lld&quot;,&amp;t); for(int i=1;i&lt;=t;i++) { scanf(&quot;%lld%lld%lld&quot;,&amp;a,&amp;b,&amp;c); printf(&quot;%lld\\n&quot;,(a/2)*(a-a/2)*b*c); } } ä»¥åè¦å¥½å¥½åˆ†æï¼Œä¸è¦æƒ³å¤æ‚ æœ€å°ä¹˜ç§¯ é¢˜ä¹‰ï¼š åœ¨åŒºé—´[L,R][L,R][L,R]ä¸­æ‰¾ä¸¤ä¸ªä¸åŒçš„æ•°ï¼Œä½¿å¾—å®ƒä»¬çš„ä¹˜ç§¯æ¨¡2019æœ€å° æ¨å¯¼ï¼š åŒæ ·æ˜¯æ°´é¢˜ å¦‚æœrâˆ’l&gt;2019r-l &gt;2019râˆ’l&gt;2019,ä¸­é—´å¿…ç„¶æœ‰201920192019çš„å€æ•°ï¼Œè¾“å‡º0 ç„¶åç›´æ¥æšä¸¾2019âˆ—20192019*20192019âˆ—2019ä¸ä¼šçˆ†ï¼Œ æ¯”èµ›æ—¶çš„é”™è¯¯å¤ªç¾è€»äº†ï¼Œè¿‡è¿‡è¿‡ ä»£ç ï¼š #include &lt;bits/stdc++.h&gt; using namespace std; long long l, r, mn=1e11; int main() { cin &gt;&gt; l &gt;&gt; r; if (r - l &gt;= 2017 ) { cout &lt;&lt; 0 &lt;&lt; endl; return 0; } for (long long i = l; i &lt;= r; i++) { for (long long j = i + 1; j &lt;= r; j++) { mn = min(mn, i % 2019 * j % 2019); } } cout &lt;&lt; mn &lt;&lt; endl; } é›¨æ°´ é¢˜ä¹‰ï¼š æœ‰nnnåº§å±±æˆç¯ï¼Œnnnæ˜¯å¥‡æ•°,ä¸¤åº§å±±ä¹‹é—´æœ‰ä¸€ä¸ªæ°´åã€‚ ç¬¬iiiåº§å±±å’Œç¬¬i+1i+1i+1åº§å±±ä¹‹é—´çš„æ°´åç§°ä¸ºç¬¬iä¸ªæ°´åã€‚ ç¬¬n+1n+1n+1åº§å±±ä¹Ÿæ˜¯ç¬¬111åº§å±±ï¼Œç¬¬n+1n+1n+1ä¸ªæ°´åä¹Ÿæ˜¯ç¬¬111ä¸ªæ°´åã€‚ å¦‚æœç¬¬iåº§å±±é™é›¨é‡ä¸ºfif_ifiâ€‹ï¼Œåˆ™å®ƒçš„é™é›¨é‡ä¼šå¹³å‡åœ°åˆ†åˆ°ç›¸é‚»ä¸¤åº§æ°´åå»ã€‚ å‡è®¾æ°´åçš„æ°´å…¨æ˜¯ç”±å±±ä¸Šçš„é™é›¨æä¾›ã€‚ ç°åœ¨ç»™å‡ºæ¯ä¸€åº§æ°´åæ”¶åˆ°çš„æ°´é‡ï¼Œé—®æ¯åº§å±±çš„é™é›¨é‡ã€‚ æ¨å¯¼ï¼š aaaå·²çŸ¥ï¼ŒfffæœªçŸ¥ æ ¹æ®é¢˜ä¹‰å¾— ai=(fi+fi+1)/2a_i=(f_i+f_{i+1})/2 aiâ€‹=(fiâ€‹+fi+1â€‹)/2 äº¤æ¢å¾— 2âˆ—ai=(fi+fi+1)2*a_i=(f_i+f_{i+1}) 2âˆ—aiâ€‹=(fiâ€‹+fi+1â€‹) åˆ™ fi=2âˆ—aiâˆ’fi+1f_i=2*a_i-f_{i+1} fiâ€‹=2âˆ—aiâ€‹âˆ’fi+1â€‹ ç„¶åæ˜¯é‡å¤´æˆ å› ä¸ºå…¬å¼ä¸­æœ‰ä¸ªæœªçŸ¥æ•°ä»£ç ï¼Œè¦æ±‚nnnä¸ªå…¬å¼ï¼Œè‚¯å®šä¸èƒ½For èƒ½ä¸èƒ½æ²¡æœ‰æœªçŸ¥æ•°ï¼Ÿ ä»¥n=3n=3n=3ä¸ºä¾‹ï¼Œæˆ‘ä»¬å°è¯•æ¶ˆé™¤æœªçŸ¥æ•° æ±‚ f1f_1f1â€‹ æ—¶ï¼Œå°† f2f_2f2â€‹ çš„ç®—å¼å¸¦å…¥ï¼Œæ±‚ f2f_2f2â€‹ æ—¶,å°†f3f_3f3â€‹çš„ç®—å¼å¸¦å…¥ å¾— f1=2âˆ—a1âˆ’2âˆ—a2+2âˆ—a3âˆ’f1f_1=2*a_1-2*a_2+2*a_3-f_1 f1â€‹=2âˆ—a1â€‹âˆ’2âˆ—a2â€‹+2âˆ—a3â€‹âˆ’f1â€‹ å¾— 2f1=2âˆ—a1âˆ’2âˆ—a2+2âˆ—a32f_1=2*a_1-2*a_2+2*a_3 2f1â€‹=2âˆ—a1â€‹âˆ’2âˆ—a2â€‹+2âˆ—a3â€‹ å¾— f1=a1âˆ’a2+a3f_1=a_1-a_2+a_3 f1â€‹=a1â€‹âˆ’a2â€‹+a3â€‹ Great! æ¨å‡ºå…¶ä»–æœªçŸ¥æ•° æœ‰äº†f1f_1f1â€‹ æˆ‘ä»¬å¯ä»¥æ¨å‡ºå…¶ä»–æœªçŸ¥æ•° å…ˆæ¨å‡º fnf_nfnâ€‹,å†å€’é€€å…¶ä»– ä»£ç ï¼š å…ˆæ±‚f1f_1f1â€‹ æ ¹æ®ä¸Šé¢çš„å…¬å¼,å¥‡æ•°åŠ ï¼Œå¶æ•°å‡ for(int i=1;i&lt;=n;i++) { if(i%2==1) { f[1]+=a[i]; } else { f[1]-=a[i]; } } æ±‚fnf_nfnâ€‹,å€’é€€ f[n]=2*a[n]-f[1]; for(int i=n-1;i&gt;=1;i--) { f[i]=2*a[i]-f[i+1]; } å®Œæ•´ä»£ç  #include&lt;bits/stdc++.h&gt; using namespace std; long long n,a[100005],f[100005]; int main() { cin&gt;&gt;n; for(int i=1;i&lt;=n;i++) { cin&gt;&gt;a[i]; } for(int i=1;i&lt;=n;i++) { if(i%2==1) { f[1]+=a[i]; } else { f[1]-=a[i]; } } f[n]=2*a[n]-f[1]; for(int i=n-1;i&gt;=1;i--) { f[i]=2*a[i]-f[i+1]; } for(int i=1;i&lt;=n;i++) { cout&lt;&lt;f[i]&lt;&lt;' '; } } æŸ“è‰²ï¼š é¢˜ä¹‰ï¼š æœ‰ä¸€æ£µæ ‘ï¼ŒåŒ…å«nä¸ªç‚¹ï¼Œç°åœ¨ä½ è¦å¯¹æ‰€æœ‰çš„ç‚¹æŸ“è‰²ï¼Œä½ ä¸€å…±æœ‰Kç§é¢œè‰²ã€‚ ä¸¤ä¸ªè·ç¦»å°äºç­‰äº2çš„ä¸åŒé¡¶ç‚¹ï¼Œå®ƒä»¬å¿…é¡»æŸ“æˆä¸ä¸€æ ·çš„é¢œè‰²ã€‚ é—®æœ‰å¤šå°‘ç§æŸ“è‰²çš„æ–¹æ¡ˆ æ¨å¯¼ï¼š DFSå³å¯ï¼Œå®ç°éš¾ï¼Œä½†æ˜¯æ€è·¯è¿˜æ˜¯å¾ˆæ°´çš„ï¼Œç›´æ¥æ¨¡æ‹Ÿ ä»£ç ï¼š è¯·è®¤çœŸçœ‹æ‰¹æ³¨ï¼ï¼ #include&lt;bits/stdc++.h&gt; using namespace std; struct node { long long t,next;//å‰å‘æ˜Ÿ }a[1000005]; long long n,k,x,y,t,h[1000005],b[1000005],flag,ans=1; void add(int x,int y)//åŠ è¾¹ { t++; a[t].t=y; a[t].next=h[x]; h[x]=t; } void dfs(int x,int y,int z) { ans*=k-y-z;//ä¹˜ä¸Šå¯é€‰æ–¹æ¡ˆæ•° ans%=1000000007; int t=0;//è¡¨ç¤ºå…„å¼Ÿæ•° b[x]=1;//bè¡¨ç¤ºæ˜¯å¦åˆ°è¾¾è¿‡ for(int i=h[x];i&gt;0;i=a[i].next) { if(b[a[i].t]==0) { if(y+1&lt;=2)//å¦‚æœä¸æ˜¯æ ¹æˆ–æ ¹çš„å„¿å­ï¼Œy=2ï¼Œå¦åˆ™y+1 { dfs(a[i].t,y+1,t); } else { dfs(a[i].t,y,t); } t++; } } } int main() { cin&gt;&gt;n&gt;&gt;k; for(int i=1;i&lt;=n-1;i++) { cin&gt;&gt;x&gt;&gt;y; add(x,y); add(y,x); } dfs(1,0,0); if(flag)//æƒ³ä¸€æƒ³ï¼Œè¿™ä¸ªæœ‰ä»€ä¹ˆç”¨ï¼Ÿ { cout&lt;&lt;0&lt;&lt;endl; return 0; } cout&lt;&lt;ans&lt;&lt;endl; } ","tags":[{"index":-1,"name":"æ¯”èµ›æ€»ç»“","slug":"Contest","used":true,"link":"https://Deng-Duck.github.io/tag/Contest/"}],"title":"2021å¹´9æœˆ20æ—¥æ¨¡æ‹Ÿèµ›æ€»ç»“","feature":"https://s1.imagehub.cc/images/2022/08/20/JK.png","link":"https://Deng-Duck.github.io/post/20210920/","stats":{"text":"6 min read","time":359000,"words":1253,"minutes":6},"date":"2021-09-20 20:51:28","dateFormat":"2021-09-20"},{"content":"æœ¬æ–‡è®²ä»‹ç»å…³äºåˆå¹¶çŸ³å­çš„åšæ³•ï¼š åŒºé—´DPï¼Œè®°å¿†åŒ–æœç´¢å’Œå››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ– é¢˜ç›®å¤§æ„ï¼š è®¾æœ‰ NNN å †çŸ³å­æ’æˆä¸€æ’ï¼Œå…¶ç¼–å·ä¸º 1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒN1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒN1ï¼Œ2ï¼Œ3ï¼Œâ€¦ï¼ŒN æ¯å †çŸ³å­æœ‰ä¸€å®šçš„è´¨é‡ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæ•´æ•°æ¥æè¿° ç°åœ¨è¦å°†è¿™ NNN å †çŸ³å­åˆå¹¶æˆä¸ºä¸€å †ï¼Œæ¯æ¬¡åªèƒ½åˆå¹¶ç›¸é‚»çš„ä¸¤å † åˆå¹¶çš„ä»£ä»·ä¸ºè¿™ä¸¤å †çŸ³å­çš„è´¨é‡ä¹‹å’Œ åˆå¹¶åä¸è¿™ä¸¤å †çŸ³å­ç›¸é‚»çš„çŸ³å­å°†å’Œæ–°å †ç›¸é‚» åˆå¹¶æ—¶ç”±äºé€‰æ‹©çš„é¡ºåºä¸åŒï¼Œåˆå¹¶çš„æ€»ä»£ä»·ä¹Ÿä¸ç›¸åŒ æ‰¾å‡ºä¸€ç§åˆç†çš„æ–¹æ³•ï¼Œä½¿æ€»çš„ä»£ä»·æœ€å°ï¼Œè¾“å‡ºæœ€å°ä»£ä»· åŒæ—¶è¾“å‡ºåˆå¹¶è¿‡ç¨‹ åˆå¹¶çŸ³å­å…¶å®å’Œ åˆå¹¶æœå­ å¾ˆåƒ åªæ˜¯åˆå¹¶ åªèƒ½ç›¸é‚»ï¼Œä½†å…¶å®ä¹Ÿæ–¹ä¾¿äº† åŒºé—´dp ä»æœ€åä¸€æ¬¡åˆå¹¶å¼€å§‹æ€è€ƒ æœ€åä¸€æ¬¡åˆå¹¶å‰ï¼ŒçŸ³å­è‚¯å®šåªæœ‰ä¸¤å † ï¼Œ è®¾kä¸ºä¸¤è€… ä¸­ç‚¹ ï¼Œ ä¹Ÿå°±æ˜¯ä¸¤å †ä¸­é—´çš„ä½ç½® ç¬¬ä¸€å †æ˜¯åŸæ¥çš„111åˆ°kkkå †ï¼Œç¬¬äºŒå †æ˜¯åŸæ¥çš„ç¬¬k+1k+1k+1åˆ°ç¬¬nnnå †ã€‚ æ˜¾ç„¶ï¼Œ è¦ä½¿å¾—æ€»ä»£ä»·æœ€å°ï¼Œå¿…ç„¶æ˜¯è¯¥ä¸¤å †å¼å­ä¹‹å‰çš„åˆå¹¶ä»£ä»·æœ€å°ã€‚ ç„¶åä¸æ–­æ‹†åˆ†æˆå­é—®é¢˜è§£å†³ å®šä¹‰çŠ¶æ€f(i,j)f(i,j)f(i,j) è¡¨ç¤º ç¬¬iå †çŸ³å­åˆ°ç¬¬jå †çŸ³å­ çš„ æœ€å°åˆå¹¶ä»£ä»· ã€‚ ç›®æ ‡çŠ¶æ€å³ä¸ºf(1,n)f(1,n)f(1,n)ã€‚ æ–¹ç¨‹â€”â€”f(i,j)=min(f(i,k)+fï¼ˆk+1,j)+sum(i,j)f(i,j)=min(f(i,k)+fï¼ˆk+1,j)+sum(i,j)f(i,j)=min(f(i,k)+fï¼ˆk+1,j)+sum(i,j) sumæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯ä¸€ä¸ª åŒºé—´å’Œ ï¼Œæˆ‘ä»¬åˆ©ç”¨ å‰ç¼€å’Œ å¯ä»¥å°†è¯¢é—®sumçš„å¤æ‚åº¦é™è‡³ O(1) int query(int i, int j) //å‰ç¼€å’Œï¼Œsum[i],è¡¨ç¤º1~içš„å’Œï¼Œæ•°å­¦å†…å®¹ï¼Œç®€å•ï¼Œè‡ªè¡Œæ€è€ƒåŸç† { return sum[j] - sum[i - 1]; } ä¸ºä»€ä¹ˆæ˜¯ åŒºé—´å’Œ å‘¢ï¼Ÿ å…¶å® åŒºé—´å’Œå°±æ˜¯ä¸¤å †çš„é‡é‡ï¼ˆç®€å•ï¼Œè‡ªè¡Œæ€è€ƒï¼‰ ä¹Ÿå°±æ˜¯ åˆå¹¶ä»£ä»· ç„¶åæ˜¯ åˆå§‹åŒ– å› ä¸ºæ˜¯æ±‚æœ€å°å€¼ï¼Œæ‰€ä»¥è¦å¼€ä¸€ä¸ªå¤§æ•° memset(f, 27, sizeof(f)); 27å…¶å®è®¡ç®—æœºä¼šè®¤ä¸ºæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ï¼Œæ¥è¿‘intè¾¹ç•Œï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬è®¤ä¸ºçš„27 ä¹Ÿå¯ä»¥æ¢æˆå…¶ä»–æ•° for (int i = 1; i &lt;= n; i++) { cin &gt;&gt; a[i]; sum[i] = sum[i - 1] + a[i];// é¢„å¤„ç†å‰ç¼€å’Œ f[i][i] = 0;//è‡ªå·±åˆå¹¶è‡ªå·±ä¸éœ€è¦ä»£ä»· } è¾“å…¥å¯ä»¥åŒæ—¶å¤„ç† è§ä»£ç ï¼Œsumå¯ä»¥æ±‚ï¼Œå› ä¸ºè‡ªå·±åˆå¹¶è‡ªå·±ä¸éœ€è¦ä»£ä»· ï¼Œæ‰€ä»¥f(i,i)f(i,i)f(i,i)å§‹ç»ˆä¸º0 æ¥ä¸‹æ¥è®²è§£dpéƒ¨åˆ† ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“èµ·ç‚¹å’ŒåŒºé—´å¤§å°ï¼Œæ‰€ä»¥å¯ä»¥æ±‚ç»ˆç‚¹ ç„¶åæšä¸¾ä¸­ç‚¹å°±å®Œäº† for (int k = 2; k &lt;= n; k++)//k,æšä¸¾åŒºé—´å¤§å° { è¿™ä¸ªpæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ pæ•°ç»„ç”¨æ¥è®°å½•æœ€ä¼˜è§£çš„ä¸­ç‚¹ Whyï¼Ÿ for (int i = 1; i &lt;= n; i++) //i,æšä¸¾èµ·ç‚¹ { int j = i + k - 1;//æ±‚ç»ˆç‚¹ for (int l = i; l &lt; j; l++)//æšä¸¾ä¸­ç‚¹ï¼Œè¿™é‡Œå¯ä»¥ä¼˜åŒ–ï¼Œè¯¦è§PPTã€ŠDPä¹‹å››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ–ã€‹ { if (f[i][j] &gt; f[i][l] + f[l + 1][j] + query(i, j)) //æ±‚æœ€å°å€¼ { f[i][j] = f[i][l] + f[l + 1][j] + query(i, j); p[i][j] = l;//æœ‰æ–°çš„æœ€å°å€¼,æ›´æ–°ä¸­ç‚¹ } } } } è¿™ä¸ªpæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ pæ•°ç»„ç”¨æ¥è®°å½•æœ€ä¼˜è§£çš„ä¸­ç‚¹ Whyï¼Ÿ ç”±äºé¢˜ç›®è¦æ±‚è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é€’å½’æ±‚è§£ è¿™æ—¶på°±æ´¾ä¸Šç”¨åœºäº† p(i,j)p(i,j)p(i,j)è¡¨ç¤ºåˆå¹¶i,jæ—¶çš„ä¸­ç‚¹k ç”±æ­¤å°†l,råˆ†æˆä¸¤ä»½ï¼Œä¸æ–­é€’å½’ void dg(int l, int r) { if (l == r) {//è¯´æ˜åªæœ‰ä¸€ä¸ªæ•°ï¼Œç›´æ¥è¾“å‡ºï¼ cout &lt;&lt; a[r];//ä¸è¦æ¢è¡Œï¼ä¸è¦ç©ºæ ¼ï¼ return; } cout &lt;&lt; '(';//è¾“å‡ºå·¦å³æ‹¬å· int mid = p[l][r];//è¯»å–ä¸­ç‚¹ dg(l, mid);//é€’å½’å·¦åŠéƒ¨åˆ† cout &lt;&lt; &quot;)(&quot;;//è¾“å‡ºä¸­é—´æ‹¬å· dg(mid + 1, r);//é€’å½’å³åŠéƒ¨åˆ† cout &lt;&lt; ')';//è¾“å‡ºå·¦å³æ‹¬å· } å¥½äº†ï¼Œè¿™å°±æ˜¯å…³äºåˆå¹¶çŸ³å­çš„å…¨éƒ¨å†…å®¹äº† ä¸Šä»£ç ï¼ #include &lt;bits/stdc++.h&gt; using namespace std; int n, a[1005], f[1005][1005], p[1005][1005], sum[1005]; int query(int i, int j) { return sum[j] - sum[i - 1]; } void dg(int l, int r) { if (l == r) { cout &lt;&lt; a[r]; return; } cout &lt;&lt; '('; int mid = p[l][r]; dg(l, mid); cout &lt;&lt; &quot;)(&quot;; dg(mid + 1, r); cout &lt;&lt; ')'; } int main() { memset(f, 27, sizeof(f)); cin &gt;&gt; n; for (int i = 1; i &lt;= n; i++) { cin &gt;&gt; a[i]; sum[i] = sum[i - 1] + a[i]; f[i][i] = 0; } for (int k = 2; k &lt;= n; k++) { for (int i = 1; i &lt;= n; i++) { int j = i + k - 1; for (int l = i; l &lt; j; l++) { if (f[i][j] &gt; f[i][l] + f[l + 1][j] + query(i, j)) { f[i][j] = f[i][l] + f[l + 1][j] + query(i, j); p[i][j] = l; } } } } cout &lt;&lt; f[1][n] &lt;&lt; endl; dg(1, n); return 0; } è®°å¿†åŒ–æœç´¢æ›´åŠ æ¸…æ™°ï¼Œæ˜“äºç†è§£ (ä¸è¿‡æ— æ³•ä½¿ç”¨å››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ–) æµ…è°ˆè®°å¿†åŒ–ï¼š å¦‚æœè¯´åŠ¨æ€è§„åˆ’æ˜¯é€’æ¨ï¼Œé‚£è®°å¿†åŒ–å°±æ˜¯é€’å½’ å®ƒçš„æ€è·¯æ˜¯ï¼š åŒåŠ¨æ€è§„åˆ’ï¼Œè‹¥å­é—®é¢˜çš„è§£æ°¸è¿œä¸å˜ï¼Œå†æ¬¡è®¡ç®—ä¾¿æ²¡æœ‰æ„ä¹‰ æˆ‘ä»¬å°†å…¶è®°å½•åœ¨ f æ•°ç»„æˆ–dpæ•°ç»„ï¼ˆå‘½åä¹ æƒ¯ä¸åŒï¼‰ ä½†åŠ¨æ€è§„åˆ’ç®—å‡ºäº†æ‰€æœ‰å­é—®é¢˜ æ‰€ä»¥ï¼Œæˆ‘ä»¬ç”¨é€’å½’æ±‚è§£ï¼Œä¿è¯åªæ±‚åˆ°æœ‰ç”¨å­é—®é¢˜ ä½†å…¶å®å› ä¸ºé€’å½’å®ç°ï¼ŒäºŒè€…å¤æ‚åº¦æ¥è¿‘ï¼ŒåŠ¨æ€è§„åˆ’è¾ƒå¿« å®ƒçš„æ¡†æ¶æ˜¯ï¼š ç±»å‹ dg(å‚æ•°) { if(f[å‚æ•°]å·²ç»è®¡ç®—è¿‡)return f[å‚æ•°]; if(è¾¹ç•Œ)return å¯¹åº”çš„æ•°; //å¦‚æœå·²ç»ç»™è¾¹ç•Œåˆå§‹åŒ–ï¼Œå¯ä»¥çœç•¥ è®¡ç®— f[å‚æ•°]=è§£//ä¿å­˜è§£ return è§£; } æ³¨æ„ï¼ä½¿ç”¨é€’å½’å‡½æ•°è¡¨ç¤ºå­é—®é¢˜ï¼ ä»£ç è¯¦è§£ï¼š memset(f,-1, sizeof(f)); n = read();//åˆ ç”¨ å¿« è¯» for (int i = 1; i &lt;= n; i++) { a[i] = read(); p[i][i]=i; } è¾“å…¥ï¼Œåˆå§‹åŒ– æ³¨æ„ï¼f = -1 è¡¨ç¤º æœªè®¡ç®—ï¼ å‰ç¼€å’Œç•¥ printf(&quot;%ld\\n&quot;, dg(1, n));//è¾“å‡ºè§£ dfs(1, n);//æ±‚è¿‡ç¨‹ ä¸»å‡½æ•°å®Œ æ±‚è¿‡ç¨‹ç•¥ è®°å¿†åŒ–éƒ¨åˆ†å’ŒåŠ¨æ€è§„åˆ’å¾ˆåƒï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“äº†èµ·ç‚¹iå’Œç»ˆç‚¹j æ‰€ä»¥å¤„ç†å®Œè¾¹ç•Œåï¼Œå¯ä»¥ç›´æ¥æšä¸¾ä¸­ç‚¹ long dg(int i, int j) { if(i==j)return 0;//è¾¹ç•Œï¼Œè‡ªå·±åˆå¹¶è‡ªå·±ä¸éœ€è¦ä»£ä»· if (f[i][j] != -1) //å¦‚æœè®¡ç®—äº†ï¼Œè¿”å› { return f[i][j]; } f[i][j]=1E9; for (int k = i; k &lt;= j; k++) //è®¡ç®— { if (f[i][j] &gt; dg(i, k) + dg(k + 1, j) + w(i, j)) //æ³¨æ„!ç”¨dgè¡¨ç¤ºå­é—®é¢˜ï¼ { f[i][j] = dg(i, k) + dg(k + 1, j) + w(i, j); p[i][j] = k;//è®°å½•ä¸­ç‚¹ } } return f[i][j];//è¿”å› } ä¸Šä»£ç ï¼š #include &lt;bits/stdc++.h&gt; using namespace std; inline int read() { int ans = 0; char c = getchar(); while ((c &lt; '0' || c &gt; '9') &amp;&amp; (c != '-')) { c = getchar(); } ans = c - '0'; c = getchar(); while (c &gt;= '0' &amp;&amp; c &lt;= '9') { ans = (ans &lt;&lt; 3) + (ans &lt;&lt; 1) + c - '0'; c = getchar(); } return ans; } long f[105][105], p[105][105], a[105], sum[105], n, mn = 1E9; long w(long i, long j) { return sum[j] - sum[i - 1]; } void dfs(int l, int r) { if (l == r) { cout &lt;&lt; a[r]; return; } cout &lt;&lt; '('; int mid = p[l][r]; dfs(l, mid); cout &lt;&lt; &quot;)(&quot;; dfs(mid + 1, r); cout &lt;&lt; ')'; } long dg(int i, int j) { long x, y; if(i==j)return 0; if (f[i][j] != -1) { return f[i][j]; } f[i][j]=1E9; for (int k = i; k &lt;= j; k++) { if (f[i][j] &gt; dg(i, k) + dg(k + 1, j) + w(i, j)) { f[i][j] = dg(i, k) + dg(k + 1, j) + w(i, j); p[i][j] = k; } } return f[i][j]; } int main() { memset(f,-1, sizeof(f)); n = read(); for (int i = 1; i &lt;= n; i++) { a[i] = read(); p[i][i]=i; } for (int i = 1; i &lt;= n; i++) { sum[i] = sum[i - 1] + a[i]; } printf(&quot;%ld\\n&quot;, dg(1, n)); dfs(1, n); } é¢˜ç›®å¤§æ„ï¼š åœ¨ä¸€åœ†å½¢æ“åœºå››å‘¨æ‘†æ”¾Nå †çŸ³å­ , ç°è¦å°†çŸ³å­æœ‰æ¬¡åºåœ°åˆå¹¶æˆä¸€å †. è§„å®šæ¯æ¬¡åªèƒ½é€‰ç›¸ä¸´çš„ä¸¤å †åˆå¹¶æˆä¸€å †,å¹¶å°†æ–°çš„ä¸€å †çš„çŸ³å­æ•°,è®°ä¸ºè¯¥æ¬¡åˆå¹¶çš„å¾—åˆ†ã€‚ ç¼–ä¸€ç¨‹åº,é€‰æ‹©ä¸€ç§åˆå¹¶çŸ³å­çš„æ–¹æ¡ˆ,ä½¿å¾—åšN-1æ¬¡åˆå¹¶,å¾—åˆ†çš„æ€»å’Œæœ€å°‘ ä½†æ•°æ®é«˜è¾¾n&lt;=2500 çŸ¥è¯†è®²è§£ï¼š åœ¨åŠ¨æ€è§„åˆ’é—®é¢˜ä¸­ï¼Œæœ‰ä¸€ä¸ªå¸¸è§çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š f(i,j)=min(f(i,k)+f(k+1,j))+w[i,j]f(i,j)=min(f(i,k)+f(k+1,j))+w[i,j]f(i,j)=min(f(i,k)+f(k+1,j))+w[i,j] æ³¨æ„ä¸Šé¢çš„ç²—ä½“éƒ¨åˆ† minâ€”â€”æ±‚æœ€å°å€¼ kâ€”â€”æšä¸¾çš„ä¸­ç‚¹ w[i,j]w[i,j]w[i,j]â€”â€”ä¸€ä¸ªåŒºé—´å¤„ç†çš„å‡½æ•°ï¼ˆå¦‚å‰ç¼€å’Œï¼‰ è¿™ç§å…¬å¼å°±æ˜¯å°†ä¸€ä¸ªé—® é¢˜ é€šè¿‡ ä¸€ä¸ªæšä¸¾çš„ä¸­ç‚¹å°†é—®é¢˜æ‹†æˆä¸¤åŠï¼Œç„¶ååŠ ä¸Šä¸€ä¸ªå…¶ä»–åˆ©ç›Šçš„è®¡ç®—å‡½æ•° è¿™ç§å…¬å¼è‹¥æœ‰è¿™ä¸‰ä¸ªå…ƒç´ ï¼Œå¯ä»¥å¦‚ä¸‹åˆ¤æ–­ï¼š w[i,j]w[i,j]w[i,j]æ˜¯å¦æ»¡è¶³ä¸¤ä¸ªæ€§è´¨ï¼š 1.è‹¥i&lt;iâ€™&lt;j&lt;jâ€™i&lt;iâ€™&lt;j&lt;jâ€™i&lt;iâ€™&lt;j&lt;jâ€™,åˆ™w[iâ€²,j]&lt;=w[i,jâ€²]w[i&#x27;,j]&lt;=w[i,j&#x27;]w[iâ€²,j]&lt;=w[i,jâ€²]â€”â€”åŒºé—´åŒ…å« è§£æ ï¼šå…¶å®å¾ˆå¥½ç†è§£ï¼Œæ•´ä¸ªåŒºé—´æ˜¯w[i,jâ€²],w[iâ€²,j]w[i,j&#x27;],w[i&#x27;,j]w[i,jâ€²],w[iâ€²,j]æ˜¯é‡Œé¢çš„å°åŒºé—´ï¼Œæˆ‘ä»¬åˆ¤æ–­æ—¶åªè¦çœ‹æ•´ä½“é‡Œçš„å°åŒºé—´æ˜¯å¦ä¸€å®šå°äºæ•´ä½“åŒºé—´å³å¯ å¦‚ï¼šåŒºé—´å’Œå°±æ˜¯ä¸€ä¸ªåŒºé—´åŒ…å«ï¼Œæ¯”å¦‚sumï¼ˆ1,6)sumï¼ˆ1,6)sumï¼ˆ1,6)ä¸€å®šå¤§äºsum(2,4)sum(2,4)sum(2,4) 2.è‹¥i&lt;iâ€™&lt;j&lt;jâ€™i&lt;iâ€™&lt;j&lt;jâ€™i&lt;iâ€™&lt;j&lt;jâ€™,åˆ™w(i,j)+w(iâ€²,jâ€²)&lt;=w(i,jâ€²)+wï¼ˆiâ€²,j)w(i,j)+w(i&#x27;,j&#x27;)&lt;=w(i,j&#x27;)+wï¼ˆi&#x27;,j)w(i,j)+w(iâ€²,jâ€²)&lt;=w(i,jâ€²)+wï¼ˆiâ€²,j)â€”â€”å¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ã€‚ ä¸ºä»€ä¹ˆå«å¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ï¼Ÿæˆ‘ä¸çŸ¥é“ ä½†æ˜¯æˆ‘ä»¬å¤§æ¦‚è®°ä¸€ä¸‹å³å¯ å¯ä»¥è¯æ˜ï¼šè‹¥wæ»¡è¶³åŒºé—´åŒ…å«å•è°ƒæ€§å’Œå¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ï¼Œåˆ™fä¹Ÿæ»¡è¶³åŒºé—´å¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼çš„æ€§è´¨ã€‚ ä¸ç”¨è®°è¯æ˜ï¼Œæˆ‘ä»¬è®°ç»“è®º è®¾s(i,j)è¡¨ç¤ºf(i,j)çš„æœ€ä½³å†³ç­–ç‚¹ ä¹Ÿå°±æ˜¯f (i,j)ä¸ºæœ€å°å€¼æ—¶çš„ä¸­ç‚¹k åˆ™sæ»¡è¶³ {â€‹s(iâˆ’1)(j)&lt;=s(i,j)&lt;=s(i)(j+1)â€‹s(i)(jâˆ’1)&lt;=s(i,j)&lt;=s(i+1)(j)\\begin{cases} â€‹ s(i-1)(j)&lt;=s(i,j)&lt;=s(i)(j+1)\\\\ â€‹ s(i)(j-1)&lt;=s(i,j)&lt;=s(i+1)(j) \\end{cases} {â€‹s(iâˆ’1)(j)&lt;=s(i,j)&lt;=s(i)(j+1)â€‹s(i)(jâˆ’1)&lt;=s(i,j)&lt;=s(i+1)(j)â€‹ ä½†åªé€‚ç”¨äºæ±‚min æƒ³ä¸€æƒ³ï¼Œä¸ºä»€ä¹ˆï¼Ÿ ç­”æ¡ˆå°†åœ¨æ ‘çš„æ„é€ çš„é¢˜è§£å…¬å¸ƒ è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å‡å°‘æšä¸¾çš„æ¬¡æ•° æ˜¾ç„¶ï¼Œkçš„æœ€ä¼˜è§£=s(i,j)s(i,j)s(i,j) èŒƒå›´ç¼©å°äº† å› ä¸ºæˆ‘ä»¬æ±‚s(i,j)s(i,j)s(i,j), ä¸€å®šéœ€è¦s(iâˆ’1)(j)ï¼Œs(i)(j+1)s(i-1)(j)ï¼Œs(i)(j+1)s(iâˆ’1)(j)ï¼Œs(i)(j+1) æˆ–è€…s(i)(jâˆ’1)ï¼Œs(i+1)(j)s(i)(j-1)ï¼Œs(i+1)(j)s(i)(jâˆ’1)ï¼Œs(i+1)(j) æ‰€ä»¥æˆ‘ä»¬éœ€è¦é€‰æ‹©ï¼Œ ä¸¤ä¸ªä¸ç­‰å¼ï¼Œéœ€ä¸€ä¸ªiä»å¤§åˆ°å°æšä¸¾ï¼Œéœ€ä¸€ä¸ªjä»å¤§åˆ°å°æšä¸¾ Psï¼šæˆ‘ä»¬è¦åˆ¤æ–­sæ˜¯å¦ä¸ºé›¶ï¼Œå¦‚æœä¸ºé›¶å°±ä»ç”¨i~j è’Ÿè’»è®²çš„å¯èƒ½ä¸æ ‡å‡†ï¼Œè¯¦è§PPT é¢˜ç›®è¯¦è§£ï¼š åˆå¹¶çŸ³å­å…¬å¼ï¼šf(i,j)=min(f(i,l)+f(l+1,j)+w(i,j))f(i,j)=min(f(i,l)+f(l+1,j)+w(i,j))f(i,j)=min(f(i,l)+f(l+1,j)+w(i,j)) å…·æœ‰ä¸‰è¦ç´  w(i,j)w(i,j)w(i,j)ä¸ºåŒºé—´å’Œ æ»¡è¶³ åŒºé—´åŒ…å«å•è°ƒæ€§å’Œå¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ å¯ä»¥ç”¨å¹³è¡Œå››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ– jæ˜¯ç”±iè®¡ç®—çš„ï¼Œæ‰€ä»¥ä½¿ç”¨iä»å¤§åˆ°å°çš„ s(i)(jâˆ’1)&lt;=s(i,j)&lt;=s(i+1)(j)s(i)(j-1)&lt;=s(i,j)&lt;=s(i+1)(j)s(i)(jâˆ’1)&lt;=s(i,j)&lt;=s(i+1)(j) ä»£ç è¯¦è§£ï¼š å¤§å¤šæ•°å’Œç‰ˆæœ¬äºŒç›¸åŒ è¾“å…¥å’Œåˆå§‹åŒ–ï¼š n=read();//åˆç”¨äº†å¿«è¯»ï¼Œæˆ‘æ˜¯æœ‰ç—…å—ï¼Ÿ for(int i=1;i&lt;=n;i++) { a[i]=a[i+n]=read();//è¾“å…¥a f[i][i]=f[i+n][i+n]=0;//åˆå§‹åŒ–f s[i][i]=i;//åˆ†å‰²è‡ªå·±ï¼Œè‡ªå·±æ˜¯è‡ªå·±çš„ä¸­ç‚¹ï¼Œæ•…s[i][i]=i s[i+n][i+n]=i+n;//åŒä¸Š } n*=2; å¯¹äº†ï¼Œè¿™æ˜¯ä¸ªç¯ï¼Œä½†åšäº†ç‰ˆæœ¬äºŒåç¯å·²ç»åºŸäº†ï¼Œå°±æ˜¯æ¥åŠ å¤§æ•°æ®çš„ æ±‚å‰ç¼€å’Œï¼ˆç•¥ï¼‰ DPéƒ¨åˆ† æ²¡ä»€ä¹ˆæ³¨æ„çš„ é‡ç‚¹æ˜¯iä»å¤§åˆ°å° for(int k=2;k&lt;=n/2;k++)//åŒºé—´å¤§å° { for(int i=n-k+1;i&gt;=1;i--)//ä»å¤§åˆ°å°æšä¸¾èµ·ç‚¹ { int j=i+k-1,x,y;//æ±‚ç»ˆç‚¹ if(s[i][j-1])//å¦‚æœs(i,j-1)ä¸º0ï¼Œä»iå¼€å§‹ { x=s[i][j-1]; } else { x=i; } if(s[i+1][j])//å¦‚æœs(i+1,j)ä¸º0ï¼Œä»jç»“æŸ { y=s[i+1][j]; } else { y=j; } for(int l=x;l&lt;=y;l++)//åŒç‰ˆæœ¬äºŒ { if(f[i][j]&gt;f[i][l]+f[l+1][j]+w(i,j)) { f[i][j]=f[i][l]+f[l+1][j]+w(i,j); s[i][j]=l; } } } } å› ä¸ºæœ‰å¤šç§å¯è¡Œæ–¹æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ªç¯è¦æ‰¾ä¸€ä¸ªmin for(int i=1;i&lt;=n/2;i++) { mn=min(mn,f[i][i+n/2-1]); } è¾“å‡ºå³å¯ ä¸Šä»£ç ï¼š æ²¡å¿ä½æ‰“äº†ä¸ªå¿«è¯» #include&lt;stdio.h&gt; #include&lt;bits/stdc++.h&gt; using namespace std; inline int read() { int ans = 0; char c = getchar(); while ((c &lt; '0' || c &gt; '9') &amp;&amp; (c != '-')) { c = getchar(); } ans = c - '0'; c = getchar(); while (c &gt;= '0' &amp;&amp; c &lt;= '9') { ans = (ans &lt;&lt; 3) + (ans &lt;&lt; 1) + c - '0'; c = getchar(); } return ans; } long f[5005][5005],s[5005][5005],a[5005],sum[5005],n,mn=1E8; long w(long i,long j) { return sum[j]-sum[i-1]; } int main() { memset(f,127,sizeof(f)); n=read(); for(int i=1;i&lt;=n;i++) { a[i]=a[i+n]=read(); f[i][i]=f[i+n][i+n]=0; s[i][i]=i; s[i+n][i+n]=i+n; } n*=2; for(int i=1;i&lt;=n;i++) { sum[i]=sum[i-1]+a[i]; } for(int k=2;k&lt;=n/2;k++) { for(int i=n-k+1;i&gt;=1;i--) { int j=i+k-1,x,y; if(s[i][j-1]) { x=s[i][j-1]; } else { x=i; } if(s[i+1][j]) { y=s[i+1][j]; } else { y=j; } for(int l=x;l&lt;=y;l++) { if(f[i][j]&gt;f[i][l]+f[l+1][j]+w(i,j)) { f[i][j]=f[i][l]+f[l+1][j]+w(i,j); s[i][j]=l; } } } } for(int i=1;i&lt;=n/2;i++) { mn=min(mn,f[i][i+n/2-1]); } printf(&quot;%d&quot;,mn); } ","tags":[{"index":-1,"name":"é¢˜ç›®è§£æ³•","slug":"Answer","used":true,"link":"https://Deng-Duck.github.io/tag/Answer/"},{"index":-1,"name":"ç®—æ³•æ€»ç»“","slug":"Algorithm","used":true,"link":"https://Deng-Duck.github.io/tag/Algorithm/"}],"title":"åˆå¹¶çŸ³å­ä¸‰è®²","feature":"https://s1.imagehub.cc/images/2022/08/20/b25c0b1990e6325e331da72bcaa381ae.jpg","link":"https://Deng-Duck.github.io/post/he-bing-shi-zi-san-jiang/","stats":{"text":"17 min read","time":1012000,"words":3559,"minutes":17},"date":"2021-09-05 20:08:53","dateFormat":"2021-09-05"}]}